ba3a8d7d973d024761bfabbd3d685335
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireWildcard(require("react"));
var _api = require("@react-google-maps/api");
var _reactGeocode = _interopRequireDefault(require("react-geocode"));
var _reactGooglePlacesAutocomplete = _interopRequireDefault(require("react-google-places-autocomplete"));
var _back_arrow = _interopRequireDefault(require("../../resources/back_arrow.svg"));
var _material = require("@mui/material");
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }
// Make API key configurable - in production this should come from environment variables
const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;
// const MAPS_LIBRARIES = ['places'];
const MAP_CONTAINER_STYLE = {
  height: '90vh',
  width: '100%'
};

// Only set API key if it's available
if (GOOGLE_MAPS_API_KEY && GOOGLE_MAPS_API_KEY !== "YOUR_API_KEY_HERE") {
  _reactGeocode.default.setApiKey(GOOGLE_MAPS_API_KEY);
}
const MapLocationSelector = ({
  defaultLocation,
  address,
  handleLocationUpdate,
  handleExit
}) => {
  const [currentAddress, setCurrentAddress] = (0, _react.useState)(address);
  const [mapError, setMapError] = (0, _react.useState)(null);
  const [, setIsLoading] = (0, _react.useState)(false);
  const [billingError, setBillingError] = (0, _react.useState)(false);
  (0, _react.useEffect)(() => {
    setIsLoading(true);

    // Check if we're in a secure context (HTTPS or localhost)
    const isSecureContext = window.isSecureContext || window.location.protocol === 'https:' || window.location.hostname === 'localhost';
    if (!isSecureContext) {
      console.warn("Geolocation requires HTTPS. Using default location.");
      setIsLoading(false);
      // Set a default location (e.g., city center)
      const defaultCoords = {
        lng: 0,
        lat: 0
      };
      handleLocationUpdate({
        defaultLocation: defaultCoords,
        address: "Default Location",
        location: defaultCoords
      });
      return;
    }
    if (!("geolocation" in navigator)) {
      console.warn("Geolocation not supported in this browser");
      setIsLoading(false);
      // Set a default location
      const defaultCoords = {
        lng: 0,
        lat: 0
      };
      handleLocationUpdate({
        defaultLocation: defaultCoords,
        address: "Default Location",
        location: defaultCoords
      });
      return;
    }
    navigator.geolocation.getCurrentPosition(position => {
      const coords = {
        lng: position.coords.longitude,
        lat: position.coords.latitude
      };
      if (GOOGLE_MAPS_API_KEY && GOOGLE_MAPS_API_KEY !== "YOUR_API_KEY_HERE") {
        _reactGeocode.default.fromLatLng(coords.lat, coords.lng).then(response => {
          const addr = response.results[0]?.formatted_address;
          if (addr) {
            handleLocationUpdate({
              defaultLocation: coords,
              address: addr,
              location: coords
            });
          }
          setIsLoading(false);
        }).catch(error => {
          console.warn("Geocoding error:", error);
          if (error.message && error.message.includes("billing")) {
            setBillingError(true);
          }
          setIsLoading(false);
        });
      } else {
        setIsLoading(false);
      }
    }, error => {
      console.warn("Geolocation error:", error);
      setIsLoading(false);

      // Handle specific geolocation errors
      if (error.code === 1) {
        console.warn("Geolocation permission denied or HTTPS required");
        // Set a default location
        const defaultCoords = {
          lng: 0,
          lat: 0
        };
        handleLocationUpdate({
          defaultLocation: defaultCoords,
          address: "Default Location",
          location: defaultCoords
        });
      }
    });
  }, [handleLocationUpdate]);

  // Removed unused marker drag handler to satisfy CI lint rules

  const handleAddressSelect = selected => {
    const addr = selected.description;
    setCurrentAddress(addr);
    if (GOOGLE_MAPS_API_KEY && GOOGLE_MAPS_API_KEY !== "YOUR_API_KEY_HERE") {
      _reactGeocode.default.fromAddress(addr).then(response => {
        const {
          lat,
          lng
        } = response.results[0].geometry.location;
        const newLocation = {
          lng,
          lat
        };
        handleLocationUpdate({
          address: addr,
          location: newLocation
        });
        handleExit();
      }).catch(error => {
        console.warn("Geocoding error:", error);
        if (error.message && error.message.includes("billing")) {
          setBillingError(true);
          setMapError("Google Maps API billing is not enabled. Please contact your administrator.");
        } else {
          setMapError("Could not get coordinates for this address. Please try dragging the marker manually.");
        }
      });
    } else {
      setMapError("Google Maps API key not configured. Please contact support.");
    }
  };
  const onMapLoad = map => {
    // Map loaded successfully
    setMapError(null);
    setBillingError(false);
  };

  // Removed unused onMapError handler

  // Check if API key is properly configured
  const isApiKeyValid = GOOGLE_MAPS_API_KEY && GOOGLE_MAPS_API_KEY !== "YOUR_API_KEY_HERE" && GOOGLE_MAPS_API_KEY.length > 20;
  if (!isApiKeyValid) {
    return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_material.Box, {
      p: 2,
      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Alert, {
        severity: "warning",
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Typography, {
          variant: "body2",
          children: "Google Maps API key is not properly configured. Location selection will be limited. Please contact your administrator to configure the Google Maps API key."
        })
      }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_material.Box, {
        mt: 2,
        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Typography, {
          variant: "h6",
          children: "Manual Location Input"
        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Typography, {
          variant: "body2",
          children: "You can still manually enter your address in the text field above."
        })]
      })]
    });
  }
  if (billingError) {
    return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_material.Box, {
      p: 2,
      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Alert, {
        severity: "error",
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Typography, {
          variant: "body2",
          children: "Google Maps API billing is not enabled for this project. Location selection features are currently unavailable."
        })
      }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_material.Box, {
        mt: 2,
        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Typography, {
          variant: "h6",
          children: "Manual Location Input"
        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Typography, {
          variant: "body2",
          children: "You can still manually enter your address in the text field above."
        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Button, {
          variant: "outlined",
          onClick: handleExit,
          sx: {
            mt: 2
          },
          children: "Continue with Manual Input"
        })]
      })]
    });
  }
  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
      className: "autocomplete-bar",
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)("img", {
        onClick: handleExit,
        className: "autocomplete-icon",
        src: _back_arrow.default,
        alt: "Close map"
      })
    }), mapError && /*#__PURE__*/(0, _jsxRuntime.jsx)(_material.Alert, {
      severity: "error",
      onClose: () => setMapError(null),
      children: mapError
    }), /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
      className: "autocomplete-bar",
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_reactGooglePlacesAutocomplete.default, {
        className: "autocomplete-span",
        onSelect: handleAddressSelect,
        initialValue: currentAddress,
        query: {
          language: 'en'
        }
      })
    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_api.GoogleMap, {
      zoom: 10,
      center: defaultLocation,
      mapContainerStyle: MAP_CONTAINER_STYLE,
      onLoad: onMapLoad
    })]
  });
};
var _default = exports.default = MapLocationSelector;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfYXBpIiwiX3JlYWN0R2VvY29kZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVhY3RHb29nbGVQbGFjZXNBdXRvY29tcGxldGUiLCJfYmFja19hcnJvdyIsIl9tYXRlcmlhbCIsIl9qc3hSdW50aW1lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiR09PR0xFX01BUFNfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJSRUFDVF9BUFBfR09PR0xFX01BUFNfQVBJX0tFWSIsIk1BUF9DT05UQUlORVJfU1RZTEUiLCJoZWlnaHQiLCJ3aWR0aCIsIkdlb2NvZGUiLCJzZXRBcGlLZXkiLCJNYXBMb2NhdGlvblNlbGVjdG9yIiwiZGVmYXVsdExvY2F0aW9uIiwiYWRkcmVzcyIsImhhbmRsZUxvY2F0aW9uVXBkYXRlIiwiaGFuZGxlRXhpdCIsImN1cnJlbnRBZGRyZXNzIiwic2V0Q3VycmVudEFkZHJlc3MiLCJ1c2VTdGF0ZSIsIm1hcEVycm9yIiwic2V0TWFwRXJyb3IiLCJzZXRJc0xvYWRpbmciLCJiaWxsaW5nRXJyb3IiLCJzZXRCaWxsaW5nRXJyb3IiLCJ1c2VFZmZlY3QiLCJpc1NlY3VyZUNvbnRleHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJjb25zb2xlIiwid2FybiIsImRlZmF1bHRDb29yZHMiLCJsbmciLCJsYXQiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwiY29vcmRzIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJmcm9tTGF0TG5nIiwidGhlbiIsInJlc3BvbnNlIiwiYWRkciIsInJlc3VsdHMiLCJmb3JtYXR0ZWRfYWRkcmVzcyIsImNhdGNoIiwiZXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJjb2RlIiwiaGFuZGxlQWRkcmVzc1NlbGVjdCIsInNlbGVjdGVkIiwiZGVzY3JpcHRpb24iLCJmcm9tQWRkcmVzcyIsImdlb21ldHJ5IiwibmV3TG9jYXRpb24iLCJvbk1hcExvYWQiLCJtYXAiLCJpc0FwaUtleVZhbGlkIiwibGVuZ3RoIiwianN4cyIsIkJveCIsInAiLCJjaGlsZHJlbiIsImpzeCIsIkFsZXJ0Iiwic2V2ZXJpdHkiLCJUeXBvZ3JhcGh5IiwidmFyaWFudCIsIm10IiwiQnV0dG9uIiwib25DbGljayIsInN4IiwiRnJhZ21lbnQiLCJjbGFzc05hbWUiLCJzcmMiLCJiYWNrQXJyb3dJY29uIiwiYWx0Iiwib25DbG9zZSIsIm9uU2VsZWN0IiwiaW5pdGlhbFZhbHVlIiwicXVlcnkiLCJsYW5ndWFnZSIsIkdvb2dsZU1hcCIsInpvb20iLCJjZW50ZXIiLCJtYXBDb250YWluZXJTdHlsZSIsIm9uTG9hZCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIk1hcExvY2F0aW9uU2VsZWN0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdvb2dsZU1hcCB9IGZyb20gJ0ByZWFjdC1nb29nbGUtbWFwcy9hcGknO1xuaW1wb3J0IEdlb2NvZGUgZnJvbSBcInJlYWN0LWdlb2NvZGVcIjtcbmltcG9ydCBHb29nbGVQbGFjZXNBdXRvY29tcGxldGUgZnJvbSAncmVhY3QtZ29vZ2xlLXBsYWNlcy1hdXRvY29tcGxldGUnO1xuaW1wb3J0IGJhY2tBcnJvd0ljb24gZnJvbSBcIi4uLy4uL3Jlc291cmNlcy9iYWNrX2Fycm93LnN2Z1wiO1xuaW1wb3J0IHsgQWxlcnQsIEJveCwgVHlwb2dyYXBoeSwgQnV0dG9uIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5cbi8vIE1ha2UgQVBJIGtleSBjb25maWd1cmFibGUgLSBpbiBwcm9kdWN0aW9uIHRoaXMgc2hvdWxkIGNvbWUgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbmNvbnN0IEdPT0dMRV9NQVBTX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5SRUFDVF9BUFBfR09PR0xFX01BUFNfQVBJX0tFWTtcbi8vIGNvbnN0IE1BUFNfTElCUkFSSUVTID0gWydwbGFjZXMnXTtcbmNvbnN0IE1BUF9DT05UQUlORVJfU1RZTEUgPSB7IGhlaWdodDogJzkwdmgnLCB3aWR0aDogJzEwMCUnIH07XG5cbi8vIE9ubHkgc2V0IEFQSSBrZXkgaWYgaXQncyBhdmFpbGFibGVcbmlmIChHT09HTEVfTUFQU19BUElfS0VZICYmIEdPT0dMRV9NQVBTX0FQSV9LRVkgIT09IFwiWU9VUl9BUElfS0VZX0hFUkVcIikge1xuICBHZW9jb2RlLnNldEFwaUtleShHT09HTEVfTUFQU19BUElfS0VZKTtcbn1cblxuY29uc3QgTWFwTG9jYXRpb25TZWxlY3RvciA9ICh7IGRlZmF1bHRMb2NhdGlvbiwgYWRkcmVzcywgaGFuZGxlTG9jYXRpb25VcGRhdGUsIGhhbmRsZUV4aXQgfSkgPT4ge1xuICBjb25zdCBbY3VycmVudEFkZHJlc3MsIHNldEN1cnJlbnRBZGRyZXNzXSA9IHVzZVN0YXRlKGFkZHJlc3MpO1xuICBjb25zdCBbbWFwRXJyb3IsIHNldE1hcEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYmlsbGluZ0Vycm9yLCBzZXRCaWxsaW5nRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGEgc2VjdXJlIGNvbnRleHQgKEhUVFBTIG9yIGxvY2FsaG9zdClcbiAgICBjb25zdCBpc1NlY3VyZUNvbnRleHQgPSB3aW5kb3cuaXNTZWN1cmVDb250ZXh0IHx8IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgfHwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JztcbiAgICBcbiAgICBpZiAoIWlzU2VjdXJlQ29udGV4dCkge1xuICAgICAgY29uc29sZS53YXJuKFwiR2VvbG9jYXRpb24gcmVxdWlyZXMgSFRUUFMuIFVzaW5nIGRlZmF1bHQgbG9jYXRpb24uXCIpO1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIC8vIFNldCBhIGRlZmF1bHQgbG9jYXRpb24gKGUuZy4sIGNpdHkgY2VudGVyKVxuICAgICAgY29uc3QgZGVmYXVsdENvb3JkcyA9IHsgbG5nOiAwLCBsYXQ6IDAgfTtcbiAgICAgIGhhbmRsZUxvY2F0aW9uVXBkYXRlKHsgXG4gICAgICAgIGRlZmF1bHRMb2NhdGlvbjogZGVmYXVsdENvb3JkcywgXG4gICAgICAgIGFkZHJlc3M6IFwiRGVmYXVsdCBMb2NhdGlvblwiLCBcbiAgICAgICAgbG9jYXRpb246IGRlZmF1bHRDb29yZHMgXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKCEoXCJnZW9sb2NhdGlvblwiIGluIG5hdmlnYXRvcikpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkdlb2xvY2F0aW9uIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIC8vIFNldCBhIGRlZmF1bHQgbG9jYXRpb25cbiAgICAgIGNvbnN0IGRlZmF1bHRDb29yZHMgPSB7IGxuZzogMCwgbGF0OiAwIH07XG4gICAgICBoYW5kbGVMb2NhdGlvblVwZGF0ZSh7IFxuICAgICAgICBkZWZhdWx0TG9jYXRpb246IGRlZmF1bHRDb29yZHMsIFxuICAgICAgICBhZGRyZXNzOiBcIkRlZmF1bHQgTG9jYXRpb25cIiwgXG4gICAgICAgIGxvY2F0aW9uOiBkZWZhdWx0Q29vcmRzIFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oXG4gICAgICAocG9zaXRpb24pID0+IHtcbiAgICAgICAgY29uc3QgY29vcmRzID0geyBcbiAgICAgICAgICBsbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsIFxuICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlIFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgaWYgKEdPT0dMRV9NQVBTX0FQSV9LRVkgJiYgR09PR0xFX01BUFNfQVBJX0tFWSAhPT0gXCJZT1VSX0FQSV9LRVlfSEVSRVwiKSB7XG4gICAgICAgICAgR2VvY29kZS5mcm9tTGF0TG5nKGNvb3Jkcy5sYXQsIGNvb3Jkcy5sbmcpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGFkZHIgPSByZXNwb25zZS5yZXN1bHRzWzBdPy5mb3JtYXR0ZWRfYWRkcmVzcztcbiAgICAgICAgICAgICAgaWYgKGFkZHIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVMb2NhdGlvblVwZGF0ZSh7IFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdExvY2F0aW9uOiBjb29yZHMsIFxuICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkciwgXG4gICAgICAgICAgICAgICAgICBsb2NhdGlvbjogY29vcmRzIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiR2VvY29kaW5nIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJiaWxsaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgc2V0QmlsbGluZ0Vycm9yKHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkdlb2xvY2F0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgc3BlY2lmaWMgZ2VvbG9jYXRpb24gZXJyb3JzXG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAxKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiR2VvbG9jYXRpb24gcGVybWlzc2lvbiBkZW5pZWQgb3IgSFRUUFMgcmVxdWlyZWRcIik7XG4gICAgICAgICAgLy8gU2V0IGEgZGVmYXVsdCBsb2NhdGlvblxuICAgICAgICAgIGNvbnN0IGRlZmF1bHRDb29yZHMgPSB7IGxuZzogMCwgbGF0OiAwIH07XG4gICAgICAgICAgaGFuZGxlTG9jYXRpb25VcGRhdGUoeyBcbiAgICAgICAgICAgIGRlZmF1bHRMb2NhdGlvbjogZGVmYXVsdENvb3JkcywgXG4gICAgICAgICAgICBhZGRyZXNzOiBcIkRlZmF1bHQgTG9jYXRpb25cIiwgXG4gICAgICAgICAgICBsb2NhdGlvbjogZGVmYXVsdENvb3JkcyBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0sIFtoYW5kbGVMb2NhdGlvblVwZGF0ZV0pO1xuXG4gIC8vIFJlbW92ZWQgdW51c2VkIG1hcmtlciBkcmFnIGhhbmRsZXIgdG8gc2F0aXNmeSBDSSBsaW50IHJ1bGVzXG5cbiAgY29uc3QgaGFuZGxlQWRkcmVzc1NlbGVjdCA9IChzZWxlY3RlZCkgPT4ge1xuICAgIGNvbnN0IGFkZHIgPSBzZWxlY3RlZC5kZXNjcmlwdGlvbjtcbiAgICBzZXRDdXJyZW50QWRkcmVzcyhhZGRyKTtcbiAgICBcbiAgICBpZiAoR09PR0xFX01BUFNfQVBJX0tFWSAmJiBHT09HTEVfTUFQU19BUElfS0VZICE9PSBcIllPVVJfQVBJX0tFWV9IRVJFXCIpIHtcbiAgICAgIEdlb2NvZGUuZnJvbUFkZHJlc3MoYWRkcilcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgbGF0LCBsbmcgfSA9IHJlc3BvbnNlLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247XG4gICAgICAgICAgY29uc3QgbmV3TG9jYXRpb24gPSB7IGxuZywgbGF0IH07XG4gICAgICAgICAgaGFuZGxlTG9jYXRpb25VcGRhdGUoeyBhZGRyZXNzOiBhZGRyLCBsb2NhdGlvbjogbmV3TG9jYXRpb24gfSk7XG4gICAgICAgICAgaGFuZGxlRXhpdCgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkdlb2NvZGluZyBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJiaWxsaW5nXCIpKSB7XG4gICAgICAgICAgICBzZXRCaWxsaW5nRXJyb3IodHJ1ZSk7XG4gICAgICAgICAgICBzZXRNYXBFcnJvcihcIkdvb2dsZSBNYXBzIEFQSSBiaWxsaW5nIGlzIG5vdCBlbmFibGVkLiBQbGVhc2UgY29udGFjdCB5b3VyIGFkbWluaXN0cmF0b3IuXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRNYXBFcnJvcihcIkNvdWxkIG5vdCBnZXQgY29vcmRpbmF0ZXMgZm9yIHRoaXMgYWRkcmVzcy4gUGxlYXNlIHRyeSBkcmFnZ2luZyB0aGUgbWFya2VyIG1hbnVhbGx5LlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRNYXBFcnJvcihcIkdvb2dsZSBNYXBzIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBvbk1hcExvYWQgPSAobWFwKSA9PiB7XG4gICAgLy8gTWFwIGxvYWRlZCBzdWNjZXNzZnVsbHlcbiAgICBzZXRNYXBFcnJvcihudWxsKTtcbiAgICBzZXRCaWxsaW5nRXJyb3IoZmFsc2UpO1xuICB9O1xuXG4gIC8vIFJlbW92ZWQgdW51c2VkIG9uTWFwRXJyb3IgaGFuZGxlclxuXG4gIC8vIENoZWNrIGlmIEFQSSBrZXkgaXMgcHJvcGVybHkgY29uZmlndXJlZFxuICBjb25zdCBpc0FwaUtleVZhbGlkID0gR09PR0xFX01BUFNfQVBJX0tFWSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgR09PR0xFX01BUFNfQVBJX0tFWSAhPT0gXCJZT1VSX0FQSV9LRVlfSEVSRVwiICYmIFxuICAgICAgICAgICAgICAgICAgICAgICBHT09HTEVfTUFQU19BUElfS0VZLmxlbmd0aCA+IDIwO1xuXG4gIGlmICghaXNBcGlLZXlWYWxpZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Qm94IHA9ezJ9PlxuICAgICAgICA8QWxlcnQgc2V2ZXJpdHk9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImJvZHkyXCI+XG4gICAgICAgICAgICBHb29nbGUgTWFwcyBBUEkga2V5IGlzIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLiBMb2NhdGlvbiBzZWxlY3Rpb24gd2lsbCBiZSBsaW1pdGVkLlxuICAgICAgICAgICAgUGxlYXNlIGNvbnRhY3QgeW91ciBhZG1pbmlzdHJhdG9yIHRvIGNvbmZpZ3VyZSB0aGUgR29vZ2xlIE1hcHMgQVBJIGtleS5cbiAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgIDwvQWxlcnQ+XG4gICAgICAgIDxCb3ggbXQ9ezJ9PlxuICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJoNlwiPk1hbnVhbCBMb2NhdGlvbiBJbnB1dDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiYm9keTJcIj5cbiAgICAgICAgICAgIFlvdSBjYW4gc3RpbGwgbWFudWFsbHkgZW50ZXIgeW91ciBhZGRyZXNzIGluIHRoZSB0ZXh0IGZpZWxkIGFib3ZlLlxuICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgPC9Cb3g+XG4gICAgICA8L0JveD5cbiAgICApO1xuICB9XG5cbiAgaWYgKGJpbGxpbmdFcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8Qm94IHA9ezJ9PlxuICAgICAgICA8QWxlcnQgc2V2ZXJpdHk9XCJlcnJvclwiPlxuICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJib2R5MlwiPlxuICAgICAgICAgICAgR29vZ2xlIE1hcHMgQVBJIGJpbGxpbmcgaXMgbm90IGVuYWJsZWQgZm9yIHRoaXMgcHJvamVjdC4gXG4gICAgICAgICAgICBMb2NhdGlvbiBzZWxlY3Rpb24gZmVhdHVyZXMgYXJlIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5cbiAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgIDwvQWxlcnQ+XG4gICAgICAgIDxCb3ggbXQ9ezJ9PlxuICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJoNlwiPk1hbnVhbCBMb2NhdGlvbiBJbnB1dDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiYm9keTJcIj5cbiAgICAgICAgICAgIFlvdSBjYW4gc3RpbGwgbWFudWFsbHkgZW50ZXIgeW91ciBhZGRyZXNzIGluIHRoZSB0ZXh0IGZpZWxkIGFib3ZlLlxuICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCIgXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVFeGl0fVxuICAgICAgICAgICAgc3g9e3sgbXQ6IDIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBDb250aW51ZSB3aXRoIE1hbnVhbCBJbnB1dFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L0JveD5cbiAgICAgIDwvQm94PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1dG9jb21wbGV0ZS1iYXJcIj5cbiAgICAgICAgPGltZyBcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVFeGl0fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImF1dG9jb21wbGV0ZS1pY29uXCIgXG4gICAgICAgICAgc3JjPXtiYWNrQXJyb3dJY29ufSBcbiAgICAgICAgICBhbHQ9XCJDbG9zZSBtYXBcIiBcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7bWFwRXJyb3IgJiYgKFxuICAgICAgICA8QWxlcnQgc2V2ZXJpdHk9XCJlcnJvclwiIG9uQ2xvc2U9eygpID0+IHNldE1hcEVycm9yKG51bGwpfT5cbiAgICAgICAgICB7bWFwRXJyb3J9XG4gICAgICAgIDwvQWxlcnQ+XG4gICAgICApfVxuICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXV0b2NvbXBsZXRlLWJhclwiPlxuICAgICAgICA8R29vZ2xlUGxhY2VzQXV0b2NvbXBsZXRlIFxuICAgICAgICAgIGNsYXNzTmFtZT1cImF1dG9jb21wbGV0ZS1zcGFuXCJcbiAgICAgICAgICBvblNlbGVjdD17aGFuZGxlQWRkcmVzc1NlbGVjdH1cbiAgICAgICAgICBpbml0aWFsVmFsdWU9e2N1cnJlbnRBZGRyZXNzfVxuICAgICAgICAgIHF1ZXJ5PXt7IGxhbmd1YWdlOiAnZW4nIH19XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxHb29nbGVNYXBcbiAgICAgICAgem9vbT17MTB9XG4gICAgICAgIGNlbnRlcj17ZGVmYXVsdExvY2F0aW9ufVxuICAgICAgICBtYXBDb250YWluZXJTdHlsZT17TUFQX0NPTlRBSU5FUl9TVFlMRX1cbiAgICAgICAgb25Mb2FkPXtvbk1hcExvYWR9XG4gICAgICA+XG4gICAgICAgIHsvKiBOb3RlOiBVc2luZyBkZXByZWNhdGVkIE1hcmtlciBBUEkgLSB3aWxsIG5lZWQgbWlncmF0aW9uIGluIGZ1dHVyZSAqL31cbiAgICAgICAgey8qIFRPRE86IE1pZ3JhdGUgdG8gZ29vZ2xlLm1hcHMubWFya2VyLkFkdmFuY2VkTWFya2VyRWxlbWVudCB3aGVuIGF2YWlsYWJsZSAqL31cbiAgICAgIDwvR29vZ2xlTWFwPlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWFwTG9jYXRpb25TZWxlY3RvcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxJQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFDLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSSw4QkFBQSxHQUFBRCxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUssV0FBQSxHQUFBRixzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBTixPQUFBO0FBQStELElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLFNBQUFELHdCQUFBUyxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBWCx1QkFBQSxZQUFBQSxDQUFBUyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxF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