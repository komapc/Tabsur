{"version":3,"names":["_react","require","_reactRouterDom","_jwtDecode","_interopRequireDefault","_setAuthToken","_interopRequireWildcard","_authActions","_notifications","_MessagesActions","_reactRedux","_store","_Profile","_Main","_Register","_Settings","_Login","_google","_PrivateRoute","_GoogleMapsProvider","_ShowMeal","_EditMeal","_ShowUser","_CreateMealWizard","_About","_Stats","_AdminPanel","_ChatUser","_reactHelmet","_initFcm","_styles","_ErrorBoundary","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","theme","createTheme","palette","primary","main","secondary","text","background","paper","spacing","transitions","duration","shortest","initializeAuth","console","log","localStorage","jwtToken","token","cleanupToken","setAuthToken","decoded","jwt_decode","currentTime","Date","now","exp","store","dispatch","logoutUser","window","location","href","setCurrentUser","setTimeout","type","process","env","NODE_ENV","testToken","setItem","error","JSON","stringify","removeItem","googleOAuthClientId","REACT_APP_GOOGLE_CLIENT_ID","enableMessaging","navigator","serviceWorker","register","then","registration","scope","catch","err","App","Component","constructor","props","state","id","auth","user","notificationsCount","profileNotificationsCount","messagesCount","index","handleMessage","bind","message","data","setState","prevState","setMessagesCount","setProfileNotificationsCount","setNotificationsCount","componentDidMount","userId","messaging","requestPermission","getToken","isNaN","setFirebaseCloudMessagingToken","addEventListener","componentWillUnmount","removeEventListener","render","jsx","children","Provider","ThemeProvider","GoogleOAuthProvider","clientId","jsxs","BrowserRouter","Helmet","charSet","rel","Switch","Route","exact","path","component","Register","Login","About","ShowUser","ShowMeal","Profile","Stats","AdminPanel","ChatUser","Settings","EditMeal","CreateMealWizard","Main","mapStateToProps","_default","exports","connect"],"sources":["App.js"],"sourcesContent":["import { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken, { cleanupToken } from \"./utils/setAuthToken\";\n\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport { setFirebaseCloudMessagingToken } from \"./actions/notifications\";\nimport setMessagesCount from \"./actions/MessagesActions\";\nimport {\n  setNotificationsCount,\n  setProfileNotificationsCount,\n} from \"./actions/notifications\";\nimport { connect, Provider } from \"react-redux\";\nimport store from \"./store\";\n\nimport Profile from \"./components/users/Profile\";\nimport Main from \"./components/layout/Main\";\nimport Register from \"./components/auth/Register\";\nimport Settings from \"./components/auth/Settings\";\nimport Login from \"./components/auth/Login\";\nimport { GoogleOAuthProvider } from '@react-oauth/google';\nimport PrivateRoute from \"./components/private-route/PrivateRoute\";\nimport GoogleMapsProvider from \"./components/common/GoogleMapsProvider\";\nimport ShowMeal from \"./components/meals/ShowMeal\";\nimport EditMeal from \"./components/meals/EditMeal\";\nimport ShowUser from \"./components/users/ShowUser\";\nimport CreateMealWizard from \"./components/meals/CreateMeal/CreateMealWizard\";\nimport About from \"./components/about/About\";\nimport Stats from \"./components/users/Stats\";\nimport AdminPanel from \"./components/admin/AdminPanel\";\nimport ChatUser from \"./components/chat/ChatUser\";\nimport { Helmet } from \"react-helmet\";\nimport \"./App.css\";\nimport { messaging } from \"../src/init-fcm\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport ErrorBoundary from \"./components/common/ErrorBoundary\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#ffffff\",\n    },\n    secondary: {\n      main: \"#dc004e\",\n    },\n    text: {\n      secondary: \"#757575\",\n    },\n    background: {\n      paper: \"#ffffff\",\n    },\n  },\n  spacing: 8, // This creates the spacing function\n  transitions: {\n    duration: {\n      shortest: 150,\n    },\n  },\n});\n\n// Authentication initialization function\nconst initializeAuth = () => {\n  console.log('üîê Initializing authentication...');\n  try {\n    // Check for token to keep user logged in\n    if (localStorage.jwtToken) {\n      // Clean up any malformed tokens first\n      const token = cleanupToken();\n      console.log(\"Found JWT token in localStorage\");\n      setAuthToken(token);\n      // Decode token and get user info and exp\n      const decoded = jwt_decode(token);\n      console.log(\"Decoded token present\");\n      \n      // Check for expired token\n      const currentTime = Date.now() / 1000; // to get in milliseconds\n      // omit timestamp details\n      if (decoded.exp < currentTime) {\n        console.log(\"Token expired\");\n        // Logout user\n        store.dispatch(logoutUser());\n        // Redirect to login\n        window.location.href = \"./login\";\n      } else {\n        console.log(\"User authenticated\");\n        // Set user and isAuthenticated\n        store.dispatch(setCurrentUser(decoded));\n        console.log('‚úÖ Authentication state set successfully');\n        \n        // Force a re-render by dispatching a dummy action\n        setTimeout(() => {\n          store.dispatch({ type: 'FORCE_UPDATE' });\n        }, 100);\n      }\n    } else {\n      console.log(\"No JWT token found in localStorage.\");\n      \n      // Development mode: Auto-authenticate with test user if no token exists\n      if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'debug') {\n        console.log('üîß Development mode: Auto-authenticating with test user...');\n        // Use the test token we created earlier\n        const testToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwibmFtZSI6IlRlc3QgVXNlciIsImlhdCI6MTc1NTcwNjAwOCwiZXhwIjoxNzg3MjYyOTM0fQ.HhDIilw02ld0N4n2uN1YVnAUrHI9UZZKZCdjkajX';\n        localStorage.setItem(\"jwtToken\", testToken);\n        setAuthToken(testToken);\n        \n        // Decode and set user info\n        const decoded = jwt_decode(testToken);\n        store.dispatch(setCurrentUser(decoded));\n        console.log('‚úÖ Development authentication set successfully');\n      }\n    }\n  } catch (e) {\n    console.error(`Local storage init failed: ${JSON.stringify(e)}`);\n    // Clear invalid token\n    localStorage.removeItem(\"jwtToken\");\n    setAuthToken(false);\n  }\n};\n\nconst googleOAuthClientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\nconst enableMessaging = false;\nif (enableMessaging) {\n  try {\n    if (\"serviceWorker\" in navigator) {\n      navigator.serviceWorker\n        .register(\"./firebase-messaging-sw.js\")\n        .then(function (registration) {\n          console.log(\n            `Firebase Cloud Messaging ServiceWorker registration successful, registration.scope is: ${registration.scope}`\n          );\n        })\n        .catch(function (err) {\n          console.error(\n            `serviceWorker registration error: ${JSON.stringify(err)}.`\n          );\n        });\n    }\n    else {\n      console.error(\"Service Worker is not supported in this browser.\");\n    }\n  } catch (e) {\n    console.error(`Messaging registration failed with: ${JSON.stringify(e)}`);\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: (props.auth && props.auth.user && props.auth.user.id) || 0,\n      notificationsCount: 0,\n      profileNotificationsCount: 0,\n      messagesCount: 0,\n      index: 0,\n    };\n\n    // Bind the event listener\n    this.handleMessage = this.handleMessage.bind(this);\n  }\n\n  // Separate the event listener logic into a function\n  handleMessage(message) {\n    let data = message.data[\"firebase-messaging-msg-data\"]\n      ? message.data[\"firebase-messaging-msg-data\"].data\n      : message.data.data;\n    console.log(`message.data: ${JSON.stringify(data)}`);\n    console.log(`message.data.type: ${JSON.stringify(data[\"gcm.notification.type\"])}`);\n    const type = data[\"gcm.notification.type\"];\n\n    switch (type) {\n      case \"0\":\n        this.setState(prevState => ({ messagesCount: prevState.messagesCount + 1 }), () => {\n          store.dispatch(setMessagesCount(this.state.messagesCount));\n        });\n        break;\n      case \"6\":\n        this.setState(prevState => ({ profileNotificationsCount: prevState.profileNotificationsCount + 1 }), () => {\n          store.dispatch(setProfileNotificationsCount(this.state.profileNotificationsCount));\n        });\n        break;\n      default:\n        this.setState(prevState => ({ notificationsCount: prevState.notificationsCount + 1 }), () => {\n          store.dispatch(setNotificationsCount(this.state.notificationsCount));\n        });\n        break;\n    }\n  }\n\n\n  async componentDidMount() {\n    // Initialize authentication first with a small delay to ensure store is ready\n    setTimeout(() => {\n      initializeAuth();\n    }, 100);\n\n    if (enableMessaging) {\n      try {\n        const userId = this.state.id;\n\n        // Initialize Firebase (replace with your actual config)\n        //import { initializeApp } from \"firebase/app\";\n        //const app = initializeApp(firebaseConfig);\n\n        messaging\n          .requestPermission()\n          .then(async function () {\n            const token = await messaging.getToken();\n            console.log(`Firebase token is: ${token}`);\n\n            if (!isNaN(userId) && userId > 0) {\n              setFirebaseCloudMessagingToken(userId, token);\n            } else {\n              console.error(`setFirebaseCloudMessagingToken:undefined user.`);\n            }\n          })\n          .catch(function (err) {\n            console.error(\n              `Unable to get permission to notify. Error: ${JSON.stringify(err)}`\n            );\n          });\n\n        // Add event listener in componentDidMount\n        navigator.serviceWorker.addEventListener(\"message\", this.handleMessage);\n      } catch (e) {\n        console.error(`Messaging initialization failed with: ${JSON.stringify(e)}`);\n      }\n    }\n  }\n\n\n  componentWillUnmount() {\n    // Remove the event listener when the component unmounts to prevent memory leaks\n    navigator.serviceWorker.removeEventListener(\"message\", this.handleMessage);\n  }\n\n    render() {\n    try {\n      return (\n        <ErrorBoundary>\n          <Provider store={store}>\n            <ThemeProvider theme={theme}>\n              <GoogleOAuthProvider clientId={googleOAuthClientId || 'dummy-client-id'}>  \n                <GoogleMapsProvider>\n                  <Router>\n                    <Helmet>\n                      <meta charSet=\"utf-8\" />\n                      <title>\n                        BeMyGuest - food sharing app or food sharing and social\n                        dinning\n                      </title>\n                      <link rel=\"canonical\" href=\"https://www.tabsur.app\" />\n                    </Helmet>\n                    {/* <AppFab visible={true} /> */}\n                    <Switch>\n                      <Route exact path=\"/register\" component={Register} />\n                      <Route exact path=\"/login/:extend?\" component={Login} />\n                      <Route exact path=\"/about\" component={About} />\n                      <PrivateRoute exact path=\"/user/:id\" component={ShowUser} />\n                      <Route exact path=\"/meal/:id\" component={ShowMeal} />\n                      <PrivateRoute exact path=\"/profile/:id\" component={Profile} />\n                      <PrivateRoute exact path=\"/Stats/:id\" component={Stats} />\n                      <PrivateRoute exact path=\"/admin\" component={AdminPanel} />\n                      <PrivateRoute exact path=\"/chatUser/:id\" component={ChatUser} />\n                      <PrivateRoute exact path=\"/settings\" component={Settings} />\n                      <PrivateRoute exact path=\"/EditMeal/:id\" component={EditMeal} />\n                      <PrivateRoute\n                        exact\n                        path=\"/createMealWizard\"\n                        component={CreateMealWizard}\n                      />\n                      <Route path=\"/\" component={Main} />\n                    </Switch>\n                  </Router>\n                </GoogleMapsProvider>\n              </GoogleOAuthProvider>\n            </ThemeProvider>\n          </Provider>\n        </ErrorBoundary>\n      );\n    } catch (e) {\n      return <h3>{e}</h3>;\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log('App mapStateToProps - auth state:', state.auth);\n  return {\n    auth: state.auth,\n    notificationsCount: state.notificationsCount,\n    profileNotificationsCount: state.profileNotificationsCount,\n    messagesCount: state.messagesCount,\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n"],"mappings":"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","ignoreList":[]}