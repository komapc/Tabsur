49008eb30f0074f45ad9a3ef1e55748c
"use strict";

// Mock the Google Maps components
_getJestObj().mock('@react-google-maps/api', () => ({
  GoogleMap: ({
    children,
    onLoad,
    onError,
    ...props
  }) => /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
    "data-testid": "google-map",
    ...props,
    children: children
  }),
  Marker: props => /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
    "data-testid": "map-marker",
    ...props
  }),
  LoadScript: ({
    children,
    onLoad,
    ...props
  }) => {
    // Simulate loading success without React hooks
    if (onLoad) {
      setTimeout(onLoad, 0);
    }
    return /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
      "data-testid": "load-script",
      ...props,
      children: children
    });
  }
}));

// Mock react-geocode

_getJestObj().mock('react-geocode', () => mockGeocode);

// Mock react-google-places-autocomplete
// Mock the back arrow icon
_getJestObj().mock('react-google-places-autocomplete', () => {
  return function MockGooglePlacesAutocomplete({
    onSelect,
    initialValue
  }) {
    return /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
      "data-testid": "places-autocomplete",
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)("input", {
        "data-testid": "places-input",
        defaultValue: initialValue,
        onChange: e => {
          if (e.target.value === 'Test Address') {
            onSelect({
              description: 'Test Address'
            });
          }
        },
        placeholder: "Enter address"
      })
    });
  };
});
_getJestObj().mock('../../resources/back_arrow.svg', () => 'back-arrow-icon');

// Mock environment variables
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _MapLocationSelector = _interopRequireDefault(require("../MapLocationSelector"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const mockGeocode = {
  setApiKey: jest.fn(),
  fromLatLng: jest.fn(),
  fromAddress: jest.fn()
};
const originalEnv = process.env;
beforeAll(() => {
  process.env = {
    ...originalEnv
  };
  process.env.REACT_APP_GOOGLE_MAPS_API_KEY = 'test-api-key';
});
afterAll(() => {
  process.env = originalEnv;
});
describe('MapLocationSelector', () => {
  const mockDefaultLocation = {
    lat: 40.7128,
    lng: -74.0060
  };
  const mockAddress = 'New York, NY';
  const mockHandleLocationUpdate = jest.fn();
  const mockHandleExit = jest.fn();
  beforeEach(() => {
    jest.clearAllMocks();
    // Reset geocode mocks
    mockGeocode.fromLatLng.mockResolvedValue({
      results: [{
        formatted_address: 'Test Address'
      }]
    });
    mockGeocode.fromAddress.mockResolvedValue({
      results: [{
        geometry: {
          location: {
            lat: 40.7128,
            lng: -74.0060
          }
        }
      }]
    });
  });
  it('renders without crashing', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    expect(_react2.screen.getByTestId('google-map')).toBeInTheDocument();
    expect(_react2.screen.getByTestId('map-marker')).toBeInTheDocument();
    expect(_react2.screen.getByTestId('places-autocomplete')).toBeInTheDocument();
  });
  it('displays the back arrow icon', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    const backArrow = _react2.screen.getByAltText('Close map');
    expect(backArrow).toBeInTheDocument();
  });
  it('calls handleExit when back arrow is clicked', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    const backArrow = _react2.screen.getByAltText('Close map');
    _react2.fireEvent.click(backArrow);
    expect(mockHandleExit).toHaveBeenCalled();
  });
  it('shows warning when API key is not configured', () => {
    // Temporarily override the API key
    const originalApiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;
    process.env.REACT_APP_GOOGLE_MAPS_API_KEY = 'YOUR_API_KEY_HERE';
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    expect(_react2.screen.getByText(/Google Maps API key is not properly configured/)).toBeInTheDocument();
    expect(_react2.screen.getByText(/Manual Location Input/)).toBeInTheDocument();

    // Restore the API key
    process.env.REACT_APP_GOOGLE_MAPS_API_KEY = originalApiKey;
  });
  it('handles address selection from places autocomplete', async () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    const input = _react2.screen.getByTestId('places-input');
    _react2.fireEvent.change(input, {
      target: {
        value: 'Test Address'
      }
    });
    await (0, _react2.waitFor)(() => {
      expect(mockHandleLocationUpdate).toHaveBeenCalledWith({
        address: 'Test Address',
        location: expect.any(Object)
      });
    });
  });
  it('renders with proper map container style', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    const map = _react2.screen.getByTestId('google-map');
    expect(map).toBeInTheDocument();
  });
  it('renders marker with draggable property', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    const marker = _react2.screen.getByTestId('map-marker');
    expect(marker).toHaveAttribute('draggable');
  });
  it('handles map loading successfully', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));

    // The map should load without errors
    expect(_react2.screen.getByTestId('google-map')).toBeInTheDocument();
  });
  it('displays error messages when map fails to load', () => {
    // This test would require more complex mocking of the LoadScript error handling
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));

    // By default, the map should load successfully
    expect(_react2.screen.getByTestId('google-map')).toBeInTheDocument();
  });
  it('maintains proper layout structure', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    expect(_react2.screen.getByTestId('google-map')).toBeInTheDocument();
    expect(_react2.screen.getByTestId('map-marker')).toBeInTheDocument();
    expect(_react2.screen.getByTestId('places-autocomplete')).toBeInTheDocument();
  });
  it('handles geolocation when available', () => {
    // Mock geolocation
    const mockGeolocation = {
      getCurrentPosition: jest.fn().mockImplementation(success => {
        success({
          coords: {
            latitude: 40.7128,
            longitude: -74.0060
          }
        });
      })
    };
    global.navigator.geolocation = mockGeolocation;
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    expect(mockGeolocation.getCurrentPosition).toHaveBeenCalled();
  });
  it('handles geocoding errors gracefully', async () => {
    // Mock geocoding to fail
    mockGeocode.fromAddress.mockRejectedValue(new Error('Geocoding failed'));
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_MapLocationSelector.default, {
      defaultLocation: mockDefaultLocation,
      address: mockAddress,
      handleLocationUpdate: mockHandleLocationUpdate,
      handleExit: mockHandleExit
    }));
    const input = _react2.screen.getByTestId('places-input');
    _react2.fireEvent.change(input, {
      target: {
        value: 'Test Address'
      }
    });
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText(/Could not get coordinates for this address/)).toBeInTheDocument();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJHb29nbGVNYXAiLCJjaGlsZHJlbiIsIm9uTG9hZCIsIm9uRXJyb3IiLCJwcm9wcyIsIl9qc3hSdW50aW1lIiwianN4IiwiTWFya2VyIiwiTG9hZFNjcmlwdCIsInNldFRpbWVvdXQiLCJtb2NrR2VvY29kZSIsIk1vY2tHb29nbGVQbGFjZXNBdXRvY29tcGxldGUiLCJvblNlbGVjdCIsImluaXRpYWxWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInZhbHVlIiwiZGVzY3JpcHRpb24iLCJwbGFjZWhvbGRlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9NYXBMb2NhdGlvblNlbGVjdG9yIiwiamVzdCIsInNldEFwaUtleSIsImZuIiwiZnJvbUxhdExuZyIsImZyb21BZGRyZXNzIiwib3JpZ2luYWxFbnYiLCJwcm9jZXNzIiwiZW52IiwiYmVmb3JlQWxsIiwiUkVBQ1RfQVBQX0dPT0dMRV9NQVBTX0FQSV9LRVkiLCJhZnRlckFsbCIsImRlc2NyaWJlIiwibW9ja0RlZmF1bHRMb2NhdGlvbiIsImxhdCIsImxuZyIsIm1vY2tBZGRyZXNzIiwibW9ja0hhbmRsZUxvY2F0aW9uVXBkYXRlIiwibW9ja0hhbmRsZUV4aXQiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwicmVzdWx0cyIsImZvcm1hdHRlZF9hZGRyZXNzIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsIml0IiwicmVuZGVyIiwiZGVmYXVsdCIsImRlZmF1bHRMb2NhdGlvbiIsImFkZHJlc3MiLCJoYW5kbGVMb2NhdGlvblVwZGF0ZSIsImhhbmRsZUV4aXQiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsInRvQmVJblRoZURvY3VtZW50IiwiYmFja0Fycm93IiwiZ2V0QnlBbHRUZXh0IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ0b0hhdmVCZWVuQ2FsbGVkIiwib3JpZ2luYWxBcGlLZXkiLCJnZXRCeVRleHQiLCJpbnB1dCIsImNoYW5nZSIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImFueSIsIk9iamVjdCIsIm1hcCIsIm1hcmtlciIsInRvSGF2ZUF0dHJpYnV0ZSIsIm1vY2tHZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInN1Y2Nlc3MiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImdsb2JhbCIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciJdLCJzb3VyY2VzIjpbIk1hcExvY2F0aW9uU2VsZWN0b3IudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IE1hcExvY2F0aW9uU2VsZWN0b3IgZnJvbSAnLi4vTWFwTG9jYXRpb25TZWxlY3Rvcic7XG5cbi8vIE1vY2sgdGhlIEdvb2dsZSBNYXBzIGNvbXBvbmVudHNcbmplc3QubW9jaygnQHJlYWN0LWdvb2dsZS1tYXBzL2FwaScsICgpID0+ICh7XG4gIEdvb2dsZU1hcDogKHsgY2hpbGRyZW4sIG9uTG9hZCwgb25FcnJvciwgLi4ucHJvcHMgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJnb29nbGUtbWFwXCIgey4uLnByb3BzfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKSxcbiAgTWFya2VyOiAocHJvcHMpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJtYXAtbWFya2VyXCIgey4uLnByb3BzfSAvPixcbiAgTG9hZFNjcmlwdDogKHsgY2hpbGRyZW4sIG9uTG9hZCwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIC8vIFNpbXVsYXRlIGxvYWRpbmcgc3VjY2VzcyB3aXRob3V0IFJlYWN0IGhvb2tzXG4gICAgaWYgKG9uTG9hZCkge1xuICAgICAgc2V0VGltZW91dChvbkxvYWQsIDApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gPGRpdiBkYXRhLXRlc3RpZD1cImxvYWQtc2NyaXB0XCIgey4uLnByb3BzfT57Y2hpbGRyZW59PC9kaXY+O1xuICB9XG59KSk7XG5cbi8vIE1vY2sgcmVhY3QtZ2VvY29kZVxuY29uc3QgbW9ja0dlb2NvZGUgPSB7XG4gIHNldEFwaUtleTogamVzdC5mbigpLFxuICBmcm9tTGF0TG5nOiBqZXN0LmZuKCksXG4gIGZyb21BZGRyZXNzOiBqZXN0LmZuKClcbn07XG5qZXN0Lm1vY2soJ3JlYWN0LWdlb2NvZGUnLCAoKSA9PiBtb2NrR2VvY29kZSk7XG5cbi8vIE1vY2sgcmVhY3QtZ29vZ2xlLXBsYWNlcy1hdXRvY29tcGxldGVcbmplc3QubW9jaygncmVhY3QtZ29vZ2xlLXBsYWNlcy1hdXRvY29tcGxldGUnLCAoKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBNb2NrR29vZ2xlUGxhY2VzQXV0b2NvbXBsZXRlKHsgb25TZWxlY3QsIGluaXRpYWxWYWx1ZSB9KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJwbGFjZXMtYXV0b2NvbXBsZXRlXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwicGxhY2VzLWlucHV0XCJcbiAgICAgICAgICBkZWZhdWx0VmFsdWU9e2luaXRpYWxWYWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gJ1Rlc3QgQWRkcmVzcycpIHtcbiAgICAgICAgICAgICAgb25TZWxlY3QoeyBkZXNjcmlwdGlvbjogJ1Rlc3QgQWRkcmVzcycgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGFkZHJlc3NcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcbn0pO1xuXG4vLyBNb2NrIHRoZSBiYWNrIGFycm93IGljb25cbmplc3QubW9jaygnLi4vLi4vcmVzb3VyY2VzL2JhY2tfYXJyb3cuc3ZnJywgKCkgPT4gJ2JhY2stYXJyb3ctaWNvbicpO1xuXG4vLyBNb2NrIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3Qgb3JpZ2luYWxFbnYgPSBwcm9jZXNzLmVudjtcbmJlZm9yZUFsbCgoKSA9PiB7XG4gIHByb2Nlc3MuZW52ID0geyAuLi5vcmlnaW5hbEVudiB9O1xuICBwcm9jZXNzLmVudi5SRUFDVF9BUFBfR09PR0xFX01BUFNfQVBJX0tFWSA9ICd0ZXN0LWFwaS1rZXknO1xufSk7XG5cbmFmdGVyQWxsKCgpID0+IHtcbiAgcHJvY2Vzcy5lbnYgPSBvcmlnaW5hbEVudjtcbn0pO1xuXG5kZXNjcmliZSgnTWFwTG9jYXRpb25TZWxlY3RvcicsICgpID0+IHtcbiAgY29uc3QgbW9ja0RlZmF1bHRMb2NhdGlvbiA9IHsgbGF0OiA0MC43MTI4LCBsbmc6IC03NC4wMDYwIH07XG4gIGNvbnN0IG1vY2tBZGRyZXNzID0gJ05ldyBZb3JrLCBOWSc7XG4gIGNvbnN0IG1vY2tIYW5kbGVMb2NhdGlvblVwZGF0ZSA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja0hhbmRsZUV4aXQgPSBqZXN0LmZuKCk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgLy8gUmVzZXQgZ2VvY29kZSBtb2Nrc1xuICAgIG1vY2tHZW9jb2RlLmZyb21MYXRMbmcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgcmVzdWx0czogW3sgZm9ybWF0dGVkX2FkZHJlc3M6ICdUZXN0IEFkZHJlc3MnIH1dXG4gICAgfSk7XG4gICAgbW9ja0dlb2NvZGUuZnJvbUFkZHJlc3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgcmVzdWx0czogW3sgXG4gICAgICAgIGdlb21ldHJ5OiB7IFxuICAgICAgICAgIGxvY2F0aW9uOiB7IGxhdDogNDAuNzEyOCwgbG5nOiAtNzQuMDA2MCB9IFxuICAgICAgICB9IFxuICAgICAgfV1cbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3JlbmRlcnMgd2l0aG91dCBjcmFzaGluZycsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8TWFwTG9jYXRpb25TZWxlY3RvclxuICAgICAgICBkZWZhdWx0TG9jYXRpb249e21vY2tEZWZhdWx0TG9jYXRpb259XG4gICAgICAgIGFkZHJlc3M9e21vY2tBZGRyZXNzfVxuICAgICAgICBoYW5kbGVMb2NhdGlvblVwZGF0ZT17bW9ja0hhbmRsZUxvY2F0aW9uVXBkYXRlfVxuICAgICAgICBoYW5kbGVFeGl0PXttb2NrSGFuZGxlRXhpdH1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2dvb2dsZS1tYXAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtYXAtbWFya2VyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncGxhY2VzLWF1dG9jb21wbGV0ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgdGhlIGJhY2sgYXJyb3cgaWNvbicsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8TWFwTG9jYXRpb25TZWxlY3RvclxuICAgICAgICBkZWZhdWx0TG9jYXRpb249e21vY2tEZWZhdWx0TG9jYXRpb259XG4gICAgICAgIGFkZHJlc3M9e21vY2tBZGRyZXNzfVxuICAgICAgICBoYW5kbGVMb2NhdGlvblVwZGF0ZT17bW9ja0hhbmRsZUxvY2F0aW9uVXBkYXRlfVxuICAgICAgICBoYW5kbGVFeGl0PXttb2NrSGFuZGxlRXhpdH1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IGJhY2tBcnJvdyA9IHNjcmVlbi5nZXRCeUFsdFRleHQoJ0Nsb3NlIG1hcCcpO1xuICAgIGV4cGVjdChiYWNrQXJyb3cpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdjYWxscyBoYW5kbGVFeGl0IHdoZW4gYmFjayBhcnJvdyBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxNYXBMb2NhdGlvblNlbGVjdG9yXG4gICAgICAgIGRlZmF1bHRMb2NhdGlvbj17bW9ja0RlZmF1bHRMb2NhdGlvbn1cbiAgICAgICAgYWRkcmVzcz17bW9ja0FkZHJlc3N9XG4gICAgICAgIGhhbmRsZUxvY2F0aW9uVXBkYXRlPXttb2NrSGFuZGxlTG9jYXRpb25VcGRhdGV9XG4gICAgICAgIGhhbmRsZUV4aXQ9e21vY2tIYW5kbGVFeGl0fVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgY29uc3QgYmFja0Fycm93ID0gc2NyZWVuLmdldEJ5QWx0VGV4dCgnQ2xvc2UgbWFwJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tBcnJvdyk7XG5cbiAgICBleHBlY3QobW9ja0hhbmRsZUV4aXQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIHdhcm5pbmcgd2hlbiBBUEkga2V5IGlzIG5vdCBjb25maWd1cmVkJywgKCkgPT4ge1xuICAgIC8vIFRlbXBvcmFyaWx5IG92ZXJyaWRlIHRoZSBBUEkga2V5XG4gICAgY29uc3Qgb3JpZ2luYWxBcGlLZXkgPSBwcm9jZXNzLmVudi5SRUFDVF9BUFBfR09PR0xFX01BUFNfQVBJX0tFWTtcbiAgICBwcm9jZXNzLmVudi5SRUFDVF9BUFBfR09PR0xFX01BUFNfQVBJX0tFWSA9ICdZT1VSX0FQSV9LRVlfSEVSRSc7XG5cbiAgICByZW5kZXIoXG4gICAgICA8TWFwTG9jYXRpb25TZWxlY3RvclxuICAgICAgICBkZWZhdWx0TG9jYXRpb249e21vY2tEZWZhdWx0TG9jYXRpb259XG4gICAgICAgIGFkZHJlc3M9e21vY2tBZGRyZXNzfVxuICAgICAgICBoYW5kbGVMb2NhdGlvblVwZGF0ZT17bW9ja0hhbmRsZUxvY2F0aW9uVXBkYXRlfVxuICAgICAgICBoYW5kbGVFeGl0PXttb2NrSGFuZGxlRXhpdH1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9Hb29nbGUgTWFwcyBBUEkga2V5IGlzIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL01hbnVhbCBMb2NhdGlvbiBJbnB1dC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gUmVzdG9yZSB0aGUgQVBJIGtleVxuICAgIHByb2Nlc3MuZW52LlJFQUNUX0FQUF9HT09HTEVfTUFQU19BUElfS0VZID0gb3JpZ2luYWxBcGlLZXk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGFkZHJlc3Mgc2VsZWN0aW9uIGZyb20gcGxhY2VzIGF1dG9jb21wbGV0ZScsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8TWFwTG9jYXRpb25TZWxlY3RvclxuICAgICAgICBkZWZhdWx0TG9jYXRpb249e21vY2tEZWZhdWx0TG9jYXRpb259XG4gICAgICAgIGFkZHJlc3M9e21vY2tBZGRyZXNzfVxuICAgICAgICBoYW5kbGVMb2NhdGlvblVwZGF0ZT17bW9ja0hhbmRsZUxvY2F0aW9uVXBkYXRlfVxuICAgICAgICBoYW5kbGVFeGl0PXttb2NrSGFuZGxlRXhpdH1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdwbGFjZXMtaW5wdXQnKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1Rlc3QgQWRkcmVzcycgfSB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tIYW5kbGVMb2NhdGlvblVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBhZGRyZXNzOiAnVGVzdCBBZGRyZXNzJyxcbiAgICAgICAgbG9jYXRpb246IGV4cGVjdC5hbnkoT2JqZWN0KVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdyZW5kZXJzIHdpdGggcHJvcGVyIG1hcCBjb250YWluZXIgc3R5bGUnLCAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPE1hcExvY2F0aW9uU2VsZWN0b3JcbiAgICAgICAgZGVmYXVsdExvY2F0aW9uPXttb2NrRGVmYXVsdExvY2F0aW9ufVxuICAgICAgICBhZGRyZXNzPXttb2NrQWRkcmVzc31cbiAgICAgICAgaGFuZGxlTG9jYXRpb25VcGRhdGU9e21vY2tIYW5kbGVMb2NhdGlvblVwZGF0ZX1cbiAgICAgICAgaGFuZGxlRXhpdD17bW9ja0hhbmRsZUV4aXR9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBjb25zdCBtYXAgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2dvb2dsZS1tYXAnKTtcbiAgICBleHBlY3QobWFwKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgncmVuZGVycyBtYXJrZXIgd2l0aCBkcmFnZ2FibGUgcHJvcGVydHknLCAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPE1hcExvY2F0aW9uU2VsZWN0b3JcbiAgICAgICAgZGVmYXVsdExvY2F0aW9uPXttb2NrRGVmYXVsdExvY2F0aW9ufVxuICAgICAgICBhZGRyZXNzPXttb2NrQWRkcmVzc31cbiAgICAgICAgaGFuZGxlTG9jYXRpb25VcGRhdGU9e21vY2tIYW5kbGVMb2NhdGlvblVwZGF0ZX1cbiAgICAgICAgaGFuZGxlRXhpdD17bW9ja0hhbmRsZUV4aXR9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBjb25zdCBtYXJrZXIgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ21hcC1tYXJrZXInKTtcbiAgICBleHBlY3QobWFya2VyKS50b0hhdmVBdHRyaWJ1dGUoJ2RyYWdnYWJsZScpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBtYXAgbG9hZGluZyBzdWNjZXNzZnVsbHknLCAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPE1hcExvY2F0aW9uU2VsZWN0b3JcbiAgICAgICAgZGVmYXVsdExvY2F0aW9uPXttb2NrRGVmYXVsdExvY2F0aW9ufVxuICAgICAgICBhZGRyZXNzPXttb2NrQWRkcmVzc31cbiAgICAgICAgaGFuZGxlTG9jYXRpb25VcGRhdGU9e21vY2tIYW5kbGVMb2NhdGlvblVwZGF0ZX1cbiAgICAgICAgaGFuZGxlRXhpdD17bW9ja0hhbmRsZUV4aXR9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICAvLyBUaGUgbWFwIHNob3VsZCBsb2FkIHdpdGhvdXQgZXJyb3JzXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZ29vZ2xlLW1hcCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgZXJyb3IgbWVzc2FnZXMgd2hlbiBtYXAgZmFpbHMgdG8gbG9hZCcsICgpID0+IHtcbiAgICAvLyBUaGlzIHRlc3Qgd291bGQgcmVxdWlyZSBtb3JlIGNvbXBsZXggbW9ja2luZyBvZiB0aGUgTG9hZFNjcmlwdCBlcnJvciBoYW5kbGluZ1xuICAgIHJlbmRlcihcbiAgICAgIDxNYXBMb2NhdGlvblNlbGVjdG9yXG4gICAgICAgIGRlZmF1bHRMb2NhdGlvbj17bW9ja0RlZmF1bHRMb2NhdGlvbn1cbiAgICAgICAgYWRkcmVzcz17bW9ja0FkZHJlc3N9XG4gICAgICAgIGhhbmRsZUxvY2F0aW9uVXBkYXRlPXttb2NrSGFuZGxlTG9jYXRpb25VcGRhdGV9XG4gICAgICAgIGhhbmRsZUV4aXQ9e21vY2tIYW5kbGVFeGl0fVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgLy8gQnkgZGVmYXVsdCwgdGhlIG1hcCBzaG91bGQgbG9hZCBzdWNjZXNzZnVsbHlcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdnb29nbGUtbWFwJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdtYWludGFpbnMgcHJvcGVyIGxheW91dCBzdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPE1hcExvY2F0aW9uU2VsZWN0b3JcbiAgICAgICAgZGVmYXVsdExvY2F0aW9uPXttb2NrRGVmYXVsdExvY2F0aW9ufVxuICAgICAgICBhZGRyZXNzPXttb2NrQWRkcmVzc31cbiAgICAgICAgaGFuZGxlTG9jYXRpb25VcGRhdGU9e21vY2tIYW5kbGVMb2NhdGlvblVwZGF0ZX1cbiAgICAgICAgaGFuZGxlRXhpdD17bW9ja0hhbmRsZUV4aXR9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdnb29nbGUtbWFwJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbWFwLW1hcmtlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3BsYWNlcy1hdXRvY29tcGxldGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgZ2VvbG9jYXRpb24gd2hlbiBhdmFpbGFibGUnLCAoKSA9PiB7XG4gICAgLy8gTW9jayBnZW9sb2NhdGlvblxuICAgIGNvbnN0IG1vY2tHZW9sb2NhdGlvbiA9IHtcbiAgICAgIGdldEN1cnJlbnRQb3NpdGlvbjogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoc3VjY2VzcykgPT4ge1xuICAgICAgICBzdWNjZXNzKHtcbiAgICAgICAgICBjb29yZHM6IHtcbiAgICAgICAgICAgIGxhdGl0dWRlOiA0MC43MTI4LFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiAtNzQuMDA2MFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH07XG4gICAgZ2xvYmFsLm5hdmlnYXRvci5nZW9sb2NhdGlvbiA9IG1vY2tHZW9sb2NhdGlvbjtcblxuICAgIHJlbmRlcihcbiAgICAgIDxNYXBMb2NhdGlvblNlbGVjdG9yXG4gICAgICAgIGRlZmF1bHRMb2NhdGlvbj17bW9ja0RlZmF1bHRMb2NhdGlvbn1cbiAgICAgICAgYWRkcmVzcz17bW9ja0FkZHJlc3N9XG4gICAgICAgIGhhbmRsZUxvY2F0aW9uVXBkYXRlPXttb2NrSGFuZGxlTG9jYXRpb25VcGRhdGV9XG4gICAgICAgIGhhbmRsZUV4aXQ9e21vY2tIYW5kbGVFeGl0fVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KG1vY2tHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgZ2VvY29kaW5nIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgZ2VvY29kaW5nIHRvIGZhaWxcbiAgICBtb2NrR2VvY29kZS5mcm9tQWRkcmVzcy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0dlb2NvZGluZyBmYWlsZWQnKSk7XG5cbiAgICByZW5kZXIoXG4gICAgICA8TWFwTG9jYXRpb25TZWxlY3RvclxuICAgICAgICBkZWZhdWx0TG9jYXRpb249e21vY2tEZWZhdWx0TG9jYXRpb259XG4gICAgICAgIGFkZHJlc3M9e21vY2tBZGRyZXNzfVxuICAgICAgICBoYW5kbGVMb2NhdGlvblVwZGF0ZT17bW9ja0hhbmRsZUxvY2F0aW9uVXBkYXRlfVxuICAgICAgICBoYW5kbGVFeGl0PXttb2NrSGFuZGxlRXhpdH1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdwbGFjZXMtaW5wdXQnKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1Rlc3QgQWRkcmVzcycgfSB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0NvdWxkIG5vdCBnZXQgY29vcmRpbmF0ZXMgZm9yIHRoaXMgYWRkcmVzcy8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFJQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxPQUFPO0VBQ3pDQyxTQUFTLEVBQUVBLENBQUM7SUFBRUMsUUFBUTtJQUFFQyxNQUFNO0lBQUVDLE9BQU87SUFBRSxHQUFHQztFQUFNLENBQUMsa0JBQ2pELElBQUFDLFdBQUEsQ0FBQUMsR0FBQTtJQUFLLGVBQVksWUFBWTtJQUFBLEdBQUtGLEtBQUs7SUFBQUgsUUFBQSxFQUNwQ0E7RUFBUSxDQUNOLENBQ047RUFDRE0sTUFBTSxFQUFHSCxLQUFLLGlCQUFLLElBQUFDLFdBQUEsQ0FBQUMsR0FBQTtJQUFLLGVBQVksWUFBWTtJQUFBLEdBQUtGO0VBQUssQ0FBRyxDQUFDO0VBQzlESSxVQUFVLEVBQUVBLENBQUM7SUFBRVAsUUFBUTtJQUFFQyxNQUFNO0lBQUUsR0FBR0U7RUFBTSxDQUFDLEtBQUs7SUFDOUM7SUFDQSxJQUFJRixNQUFNLEVBQUU7TUFDVk8sVUFBVSxDQUFDUCxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZCO0lBRUEsb0JBQU8sSUFBQUcsV0FBQSxDQUFBQyxHQUFBO01BQUssZUFBWSxhQUFhO01BQUEsR0FBS0YsS0FBSztNQUFBSCxRQUFBLEVBQUdBO0lBQVEsQ0FBTSxDQUFDO0VBQ25FO0FBQ0YsQ0FBQyxDQUFDLENBQUM7O0FBRUg7O0FBTUFILFdBQUEsR0FBS0MsSUFBSSxDQUFDLGVBQWUsRUFBRSxNQUFNVyxXQUFXLENBQUM7O0FBRTdDO0FBb0JBO0FBbkJBWixXQUFBLEdBQUtDLElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxNQUFNO0VBQ2xELE9BQU8sU0FBU1ksNEJBQTRCQSxDQUFDO0lBQUVDLFFBQVE7SUFBRUM7RUFBYSxDQUFDLEVBQUU7SUFDdkUsb0JBQ0UsSUFBQVIsV0FBQSxDQUFBQyxHQUFB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