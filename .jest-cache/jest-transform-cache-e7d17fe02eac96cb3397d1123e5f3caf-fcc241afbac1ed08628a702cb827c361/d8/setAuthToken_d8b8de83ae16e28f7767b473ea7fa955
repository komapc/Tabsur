6376c930c8f3921c495fd7ef3042f8ea
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.runServerSanityCheck = exports.default = exports.clearInvalidAuth = exports.cleanupToken = exports.checkAuthState = void 0;
var _axios = _interopRequireDefault(require("axios"));
// Add request interceptor to log all outgoing requests
_axios.default.interceptors.request.use(config => {
  console.log("🚀 Outgoing request:", {
    method: config.method?.toUpperCase(),
    url: config.url,
    headers: config.headers,
    auth: config.headers?.Authorization ? `${config.headers.Authorization.substring(0, 20)}...` : 'None',
    fullAuth: config.headers?.Authorization || 'None'
  });
  return config;
}, error => {
  console.error("❌ Request interceptor error:", error);
  return Promise.reject(error);
});

// Add response interceptor to log all responses
_axios.default.interceptors.response.use(response => {
  console.log("✅ Response received:", {
    status: response.status,
    url: response.config.url,
    // Do not log full response bodies to avoid leaking data
    size: typeof response.data === 'string' ? response.data.length : 'object'
  });
  return response;
}, error => {
  console.error("❌ Response error:", {
    status: error.response?.status,
    url: error.config?.url,
    message: error.message,
    // Redact response payloads
    data: typeof error.response?.data === 'string' ? `[redacted:${error.response?.data.length}]` : '[redacted]'
  });

  // Handle JWT signature errors by clearing invalid tokens
  if (error.response?.status === 403 && error.response?.data?.name === 'JsonWebTokenError') {
    console.warn("🔐 JWT signature error detected - clearing invalid token");
    localStorage.removeItem("jwtToken");
    delete _axios.default.defaults.headers.common["Authorization"];

    // Redirect to login if we're not already there
    if (window.location.pathname !== '/login' && window.location.pathname !== '/') {
      window.location.href = '/login';
    }
  }
  return Promise.reject(error);
});
const setAuthToken = token => {
  if (token) {
    // Apply authorization token to every request if logged in
    // Check if token already has "Bearer " prefix to avoid double prefixing
    const authHeader = token.startsWith('Bearer ') ? token : `Bearer ${token}`;
    _axios.default.defaults.headers.common["Authorization"] = authHeader;
    console.log("🔑 Auth token set");
  } else {
    // Delete auth header
    delete _axios.default.defaults.headers.common["Authorization"];
    console.log("🗑️ Auth token removed");
  }
};

// Function to check current auth state
const checkAuthState = () => {
  const token = localStorage.getItem("jwtToken");
  const headers = _axios.default.defaults.headers.common;
  console.log("🔍 Auth State Check:", {
    localStorageToken: token ? `${token.substring(0, 20)}...` : 'None',
    axiosHeaders: headers,
    authorizationHeader: headers.Authorization || 'None'
  });
  return {
    hasToken: !!token,
    hasHeader: !!headers.Authorization,
    token: token,
    header: headers.Authorization
  };
};

// Function to run sanity check on server
exports.checkAuthState = checkAuthState;
const runServerSanityCheck = async () => {
  try {
    const response = await _axios.default.get('http://localhost:5000/sanity-check');
    console.log("🔍 Server Sanity Check:", response.data);
    return response.data;
  } catch (error) {
    console.error("❌ Server Sanity Check Failed:", error);
    return null;
  }
};

// Function to clear invalid authentication
exports.runServerSanityCheck = runServerSanityCheck;
const clearInvalidAuth = () => {
  console.log("🧹 Clearing invalid authentication");
  localStorage.removeItem("jwtToken");
  delete _axios.default.defaults.headers.common["Authorization"];
  window.location.href = '/login';
};

// Function to clean up malformed tokens
exports.clearInvalidAuth = clearInvalidAuth;
const cleanupToken = () => {
  const token = localStorage.getItem("jwtToken");
  if (token && token.startsWith('Bearer ')) {
    // Remove the "Bearer " prefix if it exists
    const cleanToken = token.replace('Bearer ', '');
    localStorage.setItem("jwtToken", cleanToken);
    console.log("🧹 Cleaned up malformed token, removed 'Bearer ' prefix");
    return cleanToken;
  }
  return token;
};
exports.cleanupToken = cleanupToken;
var _default = exports.default = setAuthToken;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXhpb3MiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImF4aW9zIiwiaW50ZXJjZXB0b3JzIiwicmVxdWVzdCIsInVzZSIsImNvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2QiLCJ0b1VwcGVyQ2FzZSIsInVybCIsImhlYWRlcnMiLCJhdXRoIiwiQXV0aG9yaXphdGlvbiIsInN1YnN0cmluZyIsImZ1bGxBdXRoIiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwicmVzcG9uc2UiLCJzdGF0dXMiLCJzaXplIiwiZGF0YSIsImxlbmd0aCIsIm1lc3NhZ2UiLCJuYW1lIiwid2FybiIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJkZWZhdWx0cyIsImNvbW1vbiIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJocmVmIiwic2V0QXV0aFRva2VuIiwidG9rZW4iLCJhdXRoSGVhZGVyIiwic3RhcnRzV2l0aCIsImNoZWNrQXV0aFN0YXRlIiwiZ2V0SXRlbSIsImxvY2FsU3RvcmFnZVRva2VuIiwiYXhpb3NIZWFkZXJzIiwiYXV0aG9yaXphdGlvbkhlYWRlciIsImhhc1Rva2VuIiwiaGFzSGVhZGVyIiwiaGVhZGVyIiwiZXhwb3J0cyIsInJ1blNlcnZlclNhbml0eUNoZWNrIiwiZ2V0IiwiY2xlYXJJbnZhbGlkQXV0aCIsImNsZWFudXBUb2tlbiIsImNsZWFuVG9rZW4iLCJyZXBsYWNlIiwic2V0SXRlbSIsIl9kZWZhdWx0IiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbInNldEF1dGhUb2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbi8vIEFkZCByZXF1ZXN0IGludGVyY2VwdG9yIHRvIGxvZyBhbGwgb3V0Z29pbmcgcmVxdWVzdHNcbmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcbiAgKGNvbmZpZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwi8J+agCBPdXRnb2luZyByZXF1ZXN0OlwiLCB7XG4gICAgICBtZXRob2Q6IGNvbmZpZy5tZXRob2Q/LnRvVXBwZXJDYXNlKCksXG4gICAgICB1cmw6IGNvbmZpZy51cmwsXG4gICAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcbiAgICAgIGF1dGg6IGNvbmZpZy5oZWFkZXJzPy5BdXRob3JpemF0aW9uID8gYCR7Y29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbi5zdWJzdHJpbmcoMCwgMjApfS4uLmAgOiAnTm9uZScsXG4gICAgICBmdWxsQXV0aDogY29uZmlnLmhlYWRlcnM/LkF1dGhvcml6YXRpb24gfHwgJ05vbmUnXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfSxcbiAgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBSZXF1ZXN0IGludGVyY2VwdG9yIGVycm9yOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuKTtcblxuLy8gQWRkIHJlc3BvbnNlIGludGVyY2VwdG9yIHRvIGxvZyBhbGwgcmVzcG9uc2VzXG5heGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKFxuICAocmVzcG9uc2UpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIuKchSBSZXNwb25zZSByZWNlaXZlZDpcIiwge1xuICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICB1cmw6IHJlc3BvbnNlLmNvbmZpZy51cmwsXG4gICAgICAvLyBEbyBub3QgbG9nIGZ1bGwgcmVzcG9uc2UgYm9kaWVzIHRvIGF2b2lkIGxlYWtpbmcgZGF0YVxuICAgICAgc2l6ZTogdHlwZW9mIHJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnID8gcmVzcG9uc2UuZGF0YS5sZW5ndGggOiAnb2JqZWN0J1xuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSxcbiAgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBSZXNwb25zZSBlcnJvcjpcIiwge1xuICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgdXJsOiBlcnJvci5jb25maWc/LnVybCxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAvLyBSZWRhY3QgcmVzcG9uc2UgcGF5bG9hZHNcbiAgICAgIGRhdGE6IHR5cGVvZiBlcnJvci5yZXNwb25zZT8uZGF0YSA9PT0gJ3N0cmluZycgPyBgW3JlZGFjdGVkOiR7ZXJyb3IucmVzcG9uc2U/LmRhdGEubGVuZ3RofV1gIDogJ1tyZWRhY3RlZF0nXG4gICAgfSk7XG4gICAgXG4gICAgLy8gSGFuZGxlIEpXVCBzaWduYXR1cmUgZXJyb3JzIGJ5IGNsZWFyaW5nIGludmFsaWQgdG9rZW5zXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMyAmJiBlcnJvci5yZXNwb25zZT8uZGF0YT8ubmFtZSA9PT0gJ0pzb25XZWJUb2tlbkVycm9yJykge1xuICAgICAgY29uc29sZS53YXJuKFwi8J+UkCBKV1Qgc2lnbmF0dXJlIGVycm9yIGRldGVjdGVkIC0gY2xlYXJpbmcgaW52YWxpZCB0b2tlblwiKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiand0VG9rZW5cIik7XG4gICAgICBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uXCJdO1xuICAgICAgXG4gICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBpZiB3ZSdyZSBub3QgYWxyZWFkeSB0aGVyZVxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gJy9sb2dpbicgJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnLycpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuKTtcblxuY29uc3Qgc2V0QXV0aFRva2VuID0gdG9rZW4gPT4ge1xuICBpZiAodG9rZW4pIHtcbiAgICAvLyBBcHBseSBhdXRob3JpemF0aW9uIHRva2VuIHRvIGV2ZXJ5IHJlcXVlc3QgaWYgbG9nZ2VkIGluXG4gICAgLy8gQ2hlY2sgaWYgdG9rZW4gYWxyZWFkeSBoYXMgXCJCZWFyZXIgXCIgcHJlZml4IHRvIGF2b2lkIGRvdWJsZSBwcmVmaXhpbmdcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gdG9rZW4uc3RhcnRzV2l0aCgnQmVhcmVyICcpID8gdG9rZW4gOiBgQmVhcmVyICR7dG9rZW59YDtcbiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIkF1dGhvcml6YXRpb25cIl0gPSBhdXRoSGVhZGVyO1xuICAgIGNvbnNvbGUubG9nKFwi8J+UkSBBdXRoIHRva2VuIHNldFwiKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBEZWxldGUgYXV0aCBoZWFkZXJcbiAgICBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uXCJdO1xuICAgIGNvbnNvbGUubG9nKFwi8J+Xke+4jyBBdXRoIHRva2VuIHJlbW92ZWRcIik7XG4gIH1cbn07XG5cbi8vIEZ1bmN0aW9uIHRvIGNoZWNrIGN1cnJlbnQgYXV0aCBzdGF0ZVxuZXhwb3J0IGNvbnN0IGNoZWNrQXV0aFN0YXRlID0gKCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiand0VG9rZW5cIik7XG4gIGNvbnN0IGhlYWRlcnMgPSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbjtcbiAgXG4gIGNvbnNvbGUubG9nKFwi8J+UjSBBdXRoIFN0YXRlIENoZWNrOlwiLCB7XG4gICAgbG9jYWxTdG9yYWdlVG9rZW46IHRva2VuID8gYCR7dG9rZW4uc3Vic3RyaW5nKDAsIDIwKX0uLi5gIDogJ05vbmUnLFxuICAgIGF4aW9zSGVhZGVyczogaGVhZGVycyxcbiAgICBhdXRob3JpemF0aW9uSGVhZGVyOiBoZWFkZXJzLkF1dGhvcml6YXRpb24gfHwgJ05vbmUnXG4gIH0pO1xuICBcbiAgcmV0dXJuIHtcbiAgICBoYXNUb2tlbjogISF0b2tlbixcbiAgICBoYXNIZWFkZXI6ICEhaGVhZGVycy5BdXRob3JpemF0aW9uLFxuICAgIHRva2VuOiB0b2tlbixcbiAgICBoZWFkZXI6IGhlYWRlcnMuQXV0aG9yaXphdGlvblxuICB9O1xufTtcblxuLy8gRnVuY3Rpb24gdG8gcnVuIHNhbml0eSBjaGVjayBvbiBzZXJ2ZXJcbmV4cG9ydCBjb25zdCBydW5TZXJ2ZXJTYW5pdHlDaGVjayA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL3Nhbml0eS1jaGVjaycpO1xuICAgIGNvbnNvbGUubG9nKFwi8J+UjSBTZXJ2ZXIgU2FuaXR5IENoZWNrOlwiLCByZXNwb25zZS5kYXRhKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIFNlcnZlciBTYW5pdHkgQ2hlY2sgRmFpbGVkOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIEZ1bmN0aW9uIHRvIGNsZWFyIGludmFsaWQgYXV0aGVudGljYXRpb25cbmV4cG9ydCBjb25zdCBjbGVhckludmFsaWRBdXRoID0gKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcIvCfp7kgQ2xlYXJpbmcgaW52YWxpZCBhdXRoZW50aWNhdGlvblwiKTtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJqd3RUb2tlblwiKTtcbiAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXTtcbiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbn07XG5cbi8vIEZ1bmN0aW9uIHRvIGNsZWFuIHVwIG1hbGZvcm1lZCB0b2tlbnNcbmV4cG9ydCBjb25zdCBjbGVhbnVwVG9rZW4gPSAoKSA9PiB7XG4gIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJqd3RUb2tlblwiKTtcbiAgaWYgKHRva2VuICYmIHRva2VuLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgIC8vIFJlbW92ZSB0aGUgXCJCZWFyZXIgXCIgcHJlZml4IGlmIGl0IGV4aXN0c1xuICAgIGNvbnN0IGNsZWFuVG9rZW4gPSB0b2tlbi5yZXBsYWNlKCdCZWFyZXIgJywgJycpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiand0VG9rZW5cIiwgY2xlYW5Ub2tlbik7XG4gICAgY29uc29sZS5sb2coXCLwn6e5IENsZWFuZWQgdXAgbWFsZm9ybWVkIHRva2VuLCByZW1vdmVkICdCZWFyZXIgJyBwcmVmaXhcIik7XG4gICAgcmV0dXJuIGNsZWFuVG9rZW47XG4gIH1cbiAgcmV0dXJuIHRva2VuO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc2V0QXV0aFRva2VuO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUE7QUFDQUMsY0FBSyxDQUFDQyxZQUFZLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUMzQkMsTUFBTSxJQUFLO0VBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixFQUFFO0lBQ2xDQyxNQUFNLEVBQUVILE1BQU0sQ0FBQ0csTUFBTSxFQUFFQyxXQUFXLENBQUMsQ0FBQztJQUNwQ0MsR0FBRyxFQUFFTCxNQUFNLENBQUNLLEdBQUc7SUFDZkMsT0FBTyxFQUFFTixNQUFNLENBQUNNLE9BQU87SUFDdkJDLElBQUksRUFBRVAsTUFBTSxDQUFDTSxPQUFPLEVBQUVFLGFBQWEsR0FBRyxHQUFHUixNQUFNLENBQUNNLE9BQU8sQ0FBQ0UsYUFBYSxDQUFDQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEdBQUcsTUFBTTtJQUNwR0MsUUFBUSxFQUFFVixNQUFNLENBQUNNLE9BQU8sRUFBRUUsYUFBYSxJQUFJO0VBQzdDLENBQUMsQ0FBQztFQUNGLE9BQU9SLE1BQU07QUFDZixDQUFDLEVBQ0FXLEtBQUssSUFBSztFQUNUVixPQUFPLENBQUNVLEtBQUssQ0FBQyw4QkFBOEIsRUFBRUEsS0FBSyxDQUFDO0VBQ3BELE9BQU9DLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDRixLQUFLLENBQUM7QUFDOUIsQ0FDRixDQUFDOztBQUVEO0FBQ0FmLGNBQUssQ0FBQ0MsWUFBWSxDQUFDaUIsUUFBUSxDQUFDZixHQUFHLENBQzVCZSxRQUFRLElBQUs7RUFDWmIsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLEVBQUU7SUFDbENhLE1BQU0sRUFBRUQsUUFBUSxDQUFDQyxNQUFNO0lBQ3ZCVixHQUFHLEVBQUVTLFFBQVEsQ0FBQ2QsTUFBTSxDQUFDSyxHQUFHO0lBQ3hCO0lBQ0FXLElBQUksRUFBRSxPQUFPRixRQUFRLENBQUNHLElBQUksS0FBSyxRQUFRLEdBQUdILFFBQVEsQ0FBQ0csSUFBSSxDQUFDQyxNQUFNLEdBQUc7RUFDbkUsQ0FBQyxDQUFDO0VBQ0YsT0FBT0osUUFBUTtBQUNqQixDQUFDLEVBQ0FILEtBQUssSUFBSztFQUNUVixPQUFPLENBQUNVLEtBQUssQ0FBQyxtQkFBbUIsRUFBRTtJQUNqQ0ksTUFBTSxFQUFFSixLQUFLLENBQUNHLFFBQVEsRUFBRUMsTUFBTTtJQUM5QlYsR0FBRyxFQUFFTSxLQUFLLENBQUNYLE1BQU0sRUFBRUssR0FBRztJQUN0QmMsT0FBTyxFQUFFUixLQUFLLENBQUNRLE9BQU87SUFDdEI7SUFDQUYsSUFBSSxFQUFFLE9BQU9OLEtBQUssQ0FBQ0csUUFBUSxFQUFFRyxJQUFJLEtBQUssUUFBUSxHQUFHLGFBQWFOLEtBQUssQ0FBQ0csUUFBUSxFQUFFRyxJQUFJLENBQUNDLE1BQU0sR0FBRyxHQUFHO0VBQ2pHLENBQUMsQ0FBQzs7RUFFRjtFQUNBLElBQUlQLEtBQUssQ0FBQ0csUUFBUSxFQUFFQyxNQUFNLEtBQUssR0FBRyxJQUFJSixLQUFLLENBQUNHLFFBQVEsRUFBRUcsSUFBSSxFQUFFRyxJQUFJLEtBQUssbUJBQW1CLEVBQUU7SUFDeEZuQixPQUFPLENBQUNvQixJQUFJLENBQUMsMERBQTBELENBQUM7SUFDeEVDLFlBQVksQ0FBQ0MsVUFBVSxDQUFDLFVBQVUsQ0FBQztJQUNuQyxPQUFPM0IsY0FBSyxDQUFDNEIsUUFBUSxDQUFDbEIsT0FBTyxDQUFDbUIsTUFBTSxDQUFDLGVBQWUsQ0FBQzs7SUFFckQ7SUFDQSxJQUFJQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsUUFBUSxLQUFLLFFBQVEsSUFBSUYsTUFBTSxDQUFDQyxRQUFRLENBQUNDLFFBQVEsS0FBSyxHQUFHLEVBQUU7TUFDN0VGLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDRSxJQUFJLEdBQUcsUUFBUTtJQUNqQztFQUNGO0VBRUEsT0FBT2pCLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDRixLQUFLLENBQUM7QUFDOUIsQ0FDRixDQUFDO0FBRUQsTUFBTW1CLFlBQVksR0FBR0MsS0FBSyxJQUFJO0VBQzVCLElBQUlBLEtBQUssRUFBRTtJQUNUO0lBQ0E7SUFDQSxNQUFNQyxVQUFVLEdBQUdELEtBQUssQ0FBQ0UsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHRixLQUFLLEdBQUcsVUFBVUEsS0FBSyxFQUFFO0lBQzFFbkMsY0FBSyxDQUFDNEIsUUFBUSxDQUFDbEIsT0FBTyxDQUFDbUIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFHTyxVQUFVO0lBQzNEL0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7RUFDbEMsQ0FBQyxNQUFNO0lBQ0w7SUFDQSxPQUFPTixjQUFLLENBQUM0QixRQUFRLENBQUNsQixPQUFPLENBQUNtQixNQUFNLENBQUMsZUFBZSxDQUFDO0lBQ3JEeEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0JBQXdCLENBQUM7RUFDdkM7QUFDRixDQUFDOztBQUVEO0FBQ08sTUFBTWdDLGNBQWMsR0FBR0EsQ0FBQSxLQUFNO0VBQ2xDLE1BQU1ILEtBQUssR0FBR1QsWUFBWSxDQUFDYSxPQUFPLENBQUMsVUFBVSxDQUFDO0VBQzlDLE1BQU03QixPQUFPLEdBQUdWLGNBQUssQ0FBQzRCLFFBQVEsQ0FBQ2xCLE9BQU8sQ0FBQ21CLE1BQU07RUFFN0N4QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRTtJQUNsQ2tDLGlCQUFpQixFQUFFTCxLQUFLLEdBQUcsR0FBR0EsS0FBSyxDQUFDdEIsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxHQUFHLE1BQU07SUFDbEU0QixZQUFZLEVBQUUvQixPQUFPO0lBQ3JCZ0MsbUJBQW1CLEVBQUVoQyxPQUFPLENBQUNFLGFBQWEsSUFBSTtFQUNoRCxDQUFDLENBQUM7RUFFRixPQUFPO0lBQ0wrQixRQUFRLEVBQUUsQ0FBQyxDQUFDUixLQUFLO0lBQ2pCUyxTQUFTLEVBQUUsQ0FBQyxDQUFDbEMsT0FBTyxDQUFDRSxhQUFhO0lBQ2xDdUIsS0FBSyxFQUFFQSxLQUFLO0lBQ1pVLE1BQU0sRUFBRW5DLE9BQU8sQ0FBQ0U7RUFDbEIsQ0FBQztBQUNILENBQUM7O0FBRUQ7QUFBQWtDLE9BQUEsQ0FBQVIsY0FBQSxHQUFBQSxjQUFBO0FBQ08sTUFBTVMsb0JBQW9CLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQzlDLElBQUk7SUFDRixNQUFNN0IsUUFBUSxHQUFHLE1BQU1sQixjQUFLLENBQUNnRCxHQUFHLENBQUMsb0NBQW9DLENBQUM7SUFDdEUzQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRVksUUFBUSxDQUFDRyxJQUFJLENBQUM7SUFDckQsT0FBT0gsUUFBUSxDQUFDRyxJQUFJO0VBQ3RCLENBQUMsQ0FBQyxPQUFPTixLQUFLLEVBQUU7SUFDZFYsT0FBTyxDQUFDVSxLQUFLLENBQUMsK0JBQStCLEVBQUVBLEtBQUssQ0FBQztJQUNyRCxPQUFPLElBQUk7RUFDYjtBQUNGLENBQUM7O0FBRUQ7QUFBQStCLE9BQUEsQ0FBQUMsb0JBQUEsR0FBQUEsb0JBQUE7QUFDTyxNQUFNRSxnQkFBZ0IsR0FBR0EsQ0FBQSxLQUFNO0VBQ3BDNUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsb0NBQW9DLENBQUM7RUFDakRvQixZQUFZLENBQUNDLFVBQVUsQ0FBQyxVQUFVLENBQUM7RUFDbkMsT0FBTzNCLGNBQUssQ0FBQzRCLFFBQVEsQ0FBQ2xCLE9BQU8sQ0FBQ21CLE1BQU0sQ0FBQyxlQUFlLENBQUM7RUFDckRDLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDRSxJQUFJLEdBQUcsUUFBUTtBQUNqQyxDQUFDOztBQUVEO0FBQUFhLE9BQUEsQ0FBQUcsZ0JBQUEsR0FBQUEsZ0JBQUE7QUFDTyxNQUFNQyxZQUFZLEdBQUdBLENBQUEsS0FBTTtFQUNoQyxNQUFNZixLQUFLLEdBQUdULFlBQVksQ0FBQ2EsT0FBTyxDQUFDLFVBQVUsQ0FBQztFQUM5QyxJQUFJSixLQUFLLElBQUlBLEtBQUssQ0FBQ0UsVUFBVSxDQUFDLFNBQVMsQ0FBQyxFQUFFO0lBQ3hDO0lBQ0EsTUFBTWMsVUFBVSxHQUFHaEIsS0FBSyxDQUFDaUIsT0FBTyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7SUFDL0MxQixZQUFZLENBQUMyQixPQUFPLENBQUMsVUFBVSxFQUFFRixVQUFVLENBQUM7SUFDNUM5QyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx5REFBeUQsQ0FBQztJQUN0RSxPQUFPNkMsVUFBVTtFQUNuQjtFQUNBLE9BQU9oQixLQUFLO0FBQ2QsQ0FBQztBQUFDVyxPQUFBLENBQUFJLFlBQUEsR0FBQUEsWUFBQTtBQUFBLElBQUFJLFFBQUEsR0FBQVIsT0FBQSxDQUFBUyxPQUFBLEdBRWFyQixZQUFZIiwiaWdub3JlTGlzdCI6W119