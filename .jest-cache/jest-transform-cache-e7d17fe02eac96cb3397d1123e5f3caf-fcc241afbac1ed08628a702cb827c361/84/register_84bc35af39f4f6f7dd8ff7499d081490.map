{"version":3,"names":["Validator","require","isEmpty","module","exports","validateRegisterInput","data","errors","name","email","password","password2","isEmail","isLength","min","max","equals","isValid"],"sources":["register.js"],"sourcesContent":["const Validator = require('validator');\nconst isEmpty = require('is-empty');\n\nmodule.exports = function validateRegisterInput(data) {\n  const errors = {};\n\n  // Convert empty fields to an empty string so we can use validator functions\n  data.name = !isEmpty(data.name) ? data.name : '';\n  data.email = !isEmpty(data.email) ? data.email : '';\n  data.password = !isEmpty(data.password) ? data.password : '';\n  data.password2 = !isEmpty(data.password2) ? data.password2 : '';\n\n  // Name checks\n  if (Validator.isEmpty(data.name)) {\n    errors.name = 'Name field is required';\n  }\n\n  // Email checks\n  if (Validator.isEmpty(data.email)) {\n    errors.email = 'Email field is required';\n  } else if (!Validator.isEmail(data.email)) {\n    errors.email = 'Email is invalid';\n  }\n\n  // Password checks\n  if (Validator.isEmpty(data.password)) {\n    errors.password = 'Password field is required';\n  }\n\n  if (Validator.isEmpty(data.password2)) {\n    errors.password2 = 'Confirm password field is required';\n  }\n\n  if (!Validator.isLength(data.password, { min: 6, max: 30 })) {\n    errors.password = 'Password must be at least 6 characters';\n  }\n\n  if (!Validator.equals(data.password, data.password2)) {\n    errors.password2 = 'Passwords must match';\n  }\n\n  return {\n    errors,\n    isValid: isEmpty(errors)\n  };\n};\n"],"mappings":";;AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAW,CAAC;AACtC,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAU,CAAC;AAEnCE,MAAM,CAACC,OAAO,GAAG,SAASC,qBAAqBA,CAACC,IAAI,EAAE;EACpD,MAAMC,MAAM,GAAG,CAAC,CAAC;;EAEjB;EACAD,IAAI,CAACE,IAAI,GAAG,CAACN,OAAO,CAACI,IAAI,CAACE,IAAI,CAAC,GAAGF,IAAI,CAACE,IAAI,GAAG,EAAE;EAChDF,IAAI,CAACG,KAAK,GAAG,CAACP,OAAO,CAACI,IAAI,CAACG,KAAK,CAAC,GAAGH,IAAI,CAACG,KAAK,GAAG,EAAE;EACnDH,IAAI,CAACI,QAAQ,GAAG,CAACR,OAAO,CAACI,IAAI,CAACI,QAAQ,CAAC,GAAGJ,IAAI,CAACI,QAAQ,GAAG,EAAE;EAC5DJ,IAAI,CAACK,SAAS,GAAG,CAACT,OAAO,CAACI,IAAI,CAACK,SAAS,CAAC,GAAGL,IAAI,CAACK,SAAS,GAAG,EAAE;;EAE/D;EACA,IAAIX,SAAS,CAACE,OAAO,CAACI,IAAI,CAACE,IAAI,CAAC,EAAE;IAChCD,MAAM,CAACC,IAAI,GAAG,wBAAwB;EACxC;;EAEA;EACA,IAAIR,SAAS,CAACE,OAAO,CAACI,IAAI,CAACG,KAAK,CAAC,EAAE;IACjCF,MAAM,CAACE,KAAK,GAAG,yBAAyB;EAC1C,CAAC,MAAM,IAAI,CAACT,SAAS,CAACY,OAAO,CAACN,IAAI,CAACG,KAAK,CAAC,EAAE;IACzCF,MAAM,CAACE,KAAK,GAAG,kBAAkB;EACnC;;EAEA;EACA,IAAIT,SAAS,CAACE,OAAO,CAACI,IAAI,CAACI,QAAQ,CAAC,EAAE;IACpCH,MAAM,CAACG,QAAQ,GAAG,4BAA4B;EAChD;EAEA,IAAIV,SAAS,CAACE,OAAO,CAACI,IAAI,CAACK,SAAS,CAAC,EAAE;IACrCJ,MAAM,CAACI,SAAS,GAAG,oCAAoC;EACzD;EAEA,IAAI,CAACX,SAAS,CAACa,QAAQ,CAACP,IAAI,CAACI,QAAQ,EAAE;IAAEI,GAAG,EAAE,CAAC;IAAEC,GAAG,EAAE;EAAG,CAAC,CAAC,EAAE;IAC3DR,MAAM,CAACG,QAAQ,GAAG,wCAAwC;EAC5D;EAEA,IAAI,CAACV,SAAS,CAACgB,MAAM,CAACV,IAAI,CAACI,QAAQ,EAAEJ,IAAI,CAACK,SAAS,CAAC,EAAE;IACpDJ,MAAM,CAACI,SAAS,GAAG,sBAAsB;EAC3C;EAEA,OAAO;IACLJ,MAAM;IACNU,OAAO,EAAEf,OAAO,CAACK,MAAM;EACzB,CAAC;AACH,CAAC","ignoreList":[]}