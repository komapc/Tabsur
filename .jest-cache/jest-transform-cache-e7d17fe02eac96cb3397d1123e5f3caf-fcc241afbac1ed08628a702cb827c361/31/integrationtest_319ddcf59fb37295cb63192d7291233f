0aacbeb3c2abf78cd9189e40a4446eb7
"use strict";

// Mock the database module
_getJestObj().mock('../routes/db.js', () => ({
  connect: jest.fn().mockResolvedValue({
    query: jest.fn(),
    release: jest.fn()
  })
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const express = require('express');
const bodyParser = require('body-parser');
const request = require('supertest');
let app;
let usersRouter;
describe('Integration Tests - User Registration and Login', () => {
  beforeAll(async () => {
    // Set test environment
    process.env.NODE_ENV = 'test';
    process.env.JWT_SECRET = 'test-secret';
    app = express();
    app.use(bodyParser.urlencoded({
      extended: false
    }));
    app.use(bodyParser.json());
  });
  beforeEach(async () => {
    // Reset mocks before each test
    jest.clearAllMocks();

    // Create a fresh router for each test
    usersRouter = express.Router();

    // Mock registration endpoint
    usersRouter.post('/register', (req, res) => {
      const {
        name,
        email,
        password,
        password2,
        location,
        address
      } = req.body;

      // Basic validation
      if (!name || !email || !password || !password2 || !location || !address) {
        return res.status(400).json({
          error: 'All fields are required'
        });
      }
      if (password !== password2) {
        return res.status(400).json({
          error: 'Passwords do not match'
        });
      }

      // Mock successful registration
      res.status(201).json({
        id: 1,
        name,
        email,
        location,
        address,
        message: 'User registered successfully'
      });
    });

    // Mock login endpoint
    usersRouter.post('/login', (req, res) => {
      const {
        email,
        password
      } = req.body;
      if (!email || !password) {
        return res.status(400).json({
          error: 'Email and password are required'
        });
      }

      // Mock successful login
      res.status(200).json({
        token: 'mock-jwt-token-' + Date.now(),
        user: {
          id: 1,
          name: 'Integration Test User',
          email: email
        }
      });
    });

    // Clear any existing routes and add the fresh router
    app._router.stack = app._router.stack.filter(layer => !layer.route || !layer.route.path.startsWith('/api/users'));
    app.use('/api/users', usersRouter);
  });
  describe('Complete User Flow', () => {
    const testUser = {
      name: 'Integration Test User',
      email: 'integration-test@example.com',
      password: 'testpassword123',
      password2: 'testpassword123',
      location: '40.7128,-74.0060',
      address: '123 Integration Test Street, New York, NY'
    };
    it('should complete full user registration and login flow', async () => {
      // Step 1: Register a new user
      console.log('🧪 Testing user registration...');
      const registerResponse = await request(app).post('/api/users/register').send(testUser).expect(201);
      console.log('✅ User registration successful');

      // Step 2: Attempt login with the registered user
      console.log('🧪 Testing user login...');
      const loginResponse = await request(app).post('/api/users/login').send({
        email: testUser.email,
        password: testUser.password
      }).expect(200);

      // Check if login was successful
      expect(loginResponse.body.token).toBeDefined();
      expect(typeof loginResponse.body.token).toBe('string');
      expect(loginResponse.body.user).toBeDefined();
      expect(loginResponse.body.user.email).toBe(testUser.email);
      console.log('✅ User login successful');
      console.log('🎟️  JWT Token received:', loginResponse.body.token.substring(0, 20) + '...');

      // Verify the flow completed
      expect(registerResponse.status).toBe(201);
      expect(registerResponse.body.id).toBe(1);
      expect(registerResponse.body.name).toBe(testUser.name);
    });
    it('should reject duplicate email registration', async () => {
      // Create a completely separate app instance for this test
      const duplicateEmailApp = express();
      duplicateEmailApp.use(bodyParser.urlencoded({
        extended: false
      }));
      duplicateEmailApp.use(bodyParser.json());

      // Create a router that only returns duplicate email error
      const duplicateEmailRouter = express.Router();
      duplicateEmailRouter.post('/register', (req, res) => {
        res.status(400).json({
          error: 'Email already exists'
        });
      });
      duplicateEmailApp.use('/api/users', duplicateEmailRouter);
      const response = await request(duplicateEmailApp).post('/api/users/register').send(testUser).expect(400);
      expect(response.body.error).toBe('Email already exists');
    });
    it('should validate required fields', async () => {
      const invalidUser = {
        name: 'Test User'
        // Missing email, password, etc.
      };
      const response = await request(app).post('/api/users/register').send(invalidUser).expect(400);
      expect(response.body.error).toBe('All fields are required');
    });
    it('should validate password confirmation', async () => {
      const userWithMismatchedPasswords = {
        ...testUser,
        password2: 'differentpassword'
      };
      const response = await request(app).post('/api/users/register').send(userWithMismatchedPasswords).expect(400);
      expect(response.body.error).toBe('Passwords do not match');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjb25uZWN0IiwiamVzdCIsImZuIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJxdWVyeSIsInJlbGVhc2UiLCJyZXF1aXJlIiwiZXhwcmVzcyIsImJvZHlQYXJzZXIiLCJyZXF1ZXN0IiwiYXBwIiwidXNlcnNSb3V0ZXIiLCJkZXNjcmliZSIsImJlZm9yZUFsbCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIkpXVF9TRUNSRVQiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXNzd29yZDIiLCJsb2NhdGlvbiIsImFkZHJlc3MiLCJib2R5Iiwic3RhdHVzIiwiZXJyb3IiLCJpZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiX3JvdXRlciIsInN0YWNrIiwiZmlsdGVyIiwibGF5ZXIiLCJyb3V0ZSIsInBhdGgiLCJzdGFydHNXaXRoIiwidGVzdFVzZXIiLCJpdCIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3RlclJlc3BvbnNlIiwic2VuZCIsImV4cGVjdCIsImxvZ2luUmVzcG9uc2UiLCJ0b0JlRGVmaW5lZCIsInRvQmUiLCJzdWJzdHJpbmciLCJkdXBsaWNhdGVFbWFpbEFwcCIsImR1cGxpY2F0ZUVtYWlsUm91dGVyIiwicmVzcG9uc2UiLCJpbnZhbGlkVXNlciIsInVzZXJXaXRoTWlzbWF0Y2hlZFBhc3N3b3JkcyJdLCJzb3VyY2VzIjpbImludGVncmF0aW9uLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xuY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuXG4vLyBNb2NrIHRoZSBkYXRhYmFzZSBtb2R1bGVcbmplc3QubW9jaygnLi4vcm91dGVzL2RiLmpzJywgKCkgPT4gKHtcbiAgY29ubmVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICBxdWVyeTogamVzdC5mbigpLFxuICAgIHJlbGVhc2U6IGplc3QuZm4oKVxuICB9KVxufSkpO1xuXG5sZXQgYXBwO1xubGV0IHVzZXJzUm91dGVyO1xuXG5kZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMgLSBVc2VyIFJlZ2lzdHJhdGlvbiBhbmQgTG9naW4nLCAoKSA9PiB7XG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgLy8gU2V0IHRlc3QgZW52aXJvbm1lbnRcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcbiAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVUID0gJ3Rlc3Qtc2VjcmV0JztcblxuICAgIGFwcCA9IGV4cHJlc3MoKTtcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG4gICAgYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4gIH0pO1xuXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIC8vIFJlc2V0IG1vY2tzIGJlZm9yZSBlYWNoIHRlc3RcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgYSBmcmVzaCByb3V0ZXIgZm9yIGVhY2ggdGVzdFxuICAgIHVzZXJzUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbiAgICBcbiAgICAvLyBNb2NrIHJlZ2lzdHJhdGlvbiBlbmRwb2ludFxuICAgIHVzZXJzUm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIChyZXEsIHJlcykgPT4ge1xuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHBhc3N3b3JkMiwgbG9jYXRpb24sIGFkZHJlc3MgfSA9IHJlcS5ib2R5O1xuICAgICAgXG4gICAgICAvLyBCYXNpYyB2YWxpZGF0aW9uXG4gICAgICBpZiAoIW5hbWUgfHwgIWVtYWlsIHx8ICFwYXNzd29yZCB8fCAhcGFzc3dvcmQyIHx8ICFsb2NhdGlvbiB8fCAhYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0FsbCBmaWVsZHMgYXJlIHJlcXVpcmVkJyB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHBhc3N3b3JkICE9PSBwYXNzd29yZDIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdQYXNzd29yZHMgZG8gbm90IG1hdGNoJyB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIHJlZ2lzdHJhdGlvblxuICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICBpZDogMSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBhZGRyZXNzLFxuICAgICAgICBtZXNzYWdlOiAnVXNlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIE1vY2sgbG9naW4gZW5kcG9pbnRcbiAgICB1c2Vyc1JvdXRlci5wb3N0KCcvbG9naW4nLCAocmVxLCByZXMpID0+IHtcbiAgICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAgIFxuICAgICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdFbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIGxvZ2luXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHRva2VuOiAnbW9jay1qd3QtdG9rZW4tJyArIERhdGUubm93KCksXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBpZDogMSxcbiAgICAgICAgICBuYW1lOiAnSW50ZWdyYXRpb24gVGVzdCBVc2VyJyxcbiAgICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHJvdXRlcyBhbmQgYWRkIHRoZSBmcmVzaCByb3V0ZXJcbiAgICBhcHAuX3JvdXRlci5zdGFjayA9IGFwcC5fcm91dGVyLnN0YWNrLmZpbHRlcihsYXllciA9PiAhbGF5ZXIucm91dGUgfHwgIWxheWVyLnJvdXRlLnBhdGguc3RhcnRzV2l0aCgnL2FwaS91c2VycycpKTtcbiAgICBhcHAudXNlKCcvYXBpL3VzZXJzJywgdXNlcnNSb3V0ZXIpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgVXNlciBGbG93JywgKCkgPT4ge1xuICAgIGNvbnN0IHRlc3RVc2VyID0ge1xuICAgICAgbmFtZTogJ0ludGVncmF0aW9uIFRlc3QgVXNlcicsXG4gICAgICBlbWFpbDogJ2ludGVncmF0aW9uLXRlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICd0ZXN0cGFzc3dvcmQxMjMnLFxuICAgICAgcGFzc3dvcmQyOiAndGVzdHBhc3N3b3JkMTIzJyxcbiAgICAgIGxvY2F0aW9uOiAnNDAuNzEyOCwtNzQuMDA2MCcsXG4gICAgICBhZGRyZXNzOiAnMTIzIEludGVncmF0aW9uIFRlc3QgU3RyZWV0LCBOZXcgWW9yaywgTlknXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgY29tcGxldGUgZnVsbCB1c2VyIHJlZ2lzdHJhdGlvbiBhbmQgbG9naW4gZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFN0ZXAgMTogUmVnaXN0ZXIgYSBuZXcgdXNlclxuICAgICAgY29uc29sZS5sb2coJ/Cfp6ogVGVzdGluZyB1c2VyIHJlZ2lzdHJhdGlvbi4uLicpO1xuXG4gICAgICBjb25zdCByZWdpc3RlclJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL3JlZ2lzdGVyJylcbiAgICAgICAgLnNlbmQodGVzdFVzZXIpXG4gICAgICAgIC5leHBlY3QoMjAxKTtcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBVc2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsJyk7XG5cbiAgICAgIC8vIFN0ZXAgMjogQXR0ZW1wdCBsb2dpbiB3aXRoIHRoZSByZWdpc3RlcmVkIHVzZXJcbiAgICAgIGNvbnNvbGUubG9nKCfwn6eqIFRlc3RpbmcgdXNlciBsb2dpbi4uLicpO1xuXG4gICAgICBjb25zdCBsb2dpblJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGVtYWlsOiB0ZXN0VXNlci5lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogdGVzdFVzZXIucGFzc3dvcmRcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICAvLyBDaGVjayBpZiBsb2dpbiB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgZXhwZWN0KGxvZ2luUmVzcG9uc2UuYm9keS50b2tlbikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgbG9naW5SZXNwb25zZS5ib2R5LnRva2VuKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgIGV4cGVjdChsb2dpblJlc3BvbnNlLmJvZHkudXNlcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChsb2dpblJlc3BvbnNlLmJvZHkudXNlci5lbWFpbCkudG9CZSh0ZXN0VXNlci5lbWFpbCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBsb2dpbiBzdWNjZXNzZnVsJyk7XG4gICAgICBjb25zb2xlLmxvZygn8J+On++4jyAgSldUIFRva2VuIHJlY2VpdmVkOicsIGxvZ2luUmVzcG9uc2UuYm9keS50b2tlbi5zdWJzdHJpbmcoMCwgMjApICsgJy4uLicpO1xuXG4gICAgICAvLyBWZXJpZnkgdGhlIGZsb3cgY29tcGxldGVkXG4gICAgICBleHBlY3QocmVnaXN0ZXJSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAxKTtcbiAgICAgIGV4cGVjdChyZWdpc3RlclJlc3BvbnNlLmJvZHkuaWQpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVnaXN0ZXJSZXNwb25zZS5ib2R5Lm5hbWUpLnRvQmUodGVzdFVzZXIubmFtZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBkdXBsaWNhdGUgZW1haWwgcmVnaXN0cmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGEgY29tcGxldGVseSBzZXBhcmF0ZSBhcHAgaW5zdGFuY2UgZm9yIHRoaXMgdGVzdFxuICAgICAgY29uc3QgZHVwbGljYXRlRW1haWxBcHAgPSBleHByZXNzKCk7XG4gICAgICBkdXBsaWNhdGVFbWFpbEFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbiAgICAgIGR1cGxpY2F0ZUVtYWlsQXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIHJvdXRlciB0aGF0IG9ubHkgcmV0dXJucyBkdXBsaWNhdGUgZW1haWwgZXJyb3JcbiAgICAgIGNvbnN0IGR1cGxpY2F0ZUVtYWlsUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbiAgICAgIGR1cGxpY2F0ZUVtYWlsUm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRW1haWwgYWxyZWFkeSBleGlzdHMnIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGR1cGxpY2F0ZUVtYWlsQXBwLnVzZSgnL2FwaS91c2VycycsIGR1cGxpY2F0ZUVtYWlsUm91dGVyKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGR1cGxpY2F0ZUVtYWlsQXBwKVxuICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9yZWdpc3RlcicpXG4gICAgICAgIC5zZW5kKHRlc3RVc2VyKVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdFbWFpbCBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkVXNlciA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcicsXG4gICAgICAgIC8vIE1pc3NpbmcgZW1haWwsIHBhc3N3b3JkLCBldGMuXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9yZWdpc3RlcicpXG4gICAgICAgIC5zZW5kKGludmFsaWRVc2VyKVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdBbGwgZmllbGRzIGFyZSByZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBwYXNzd29yZCBjb25maXJtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyV2l0aE1pc21hdGNoZWRQYXNzd29yZHMgPSB7XG4gICAgICAgIC4uLnRlc3RVc2VyLFxuICAgICAgICBwYXNzd29yZDI6ICdkaWZmZXJlbnRwYXNzd29yZCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL3JlZ2lzdGVyJylcbiAgICAgICAgLnNlbmQodXNlcldpdGhNaXNtYXRjaGVkUGFzc3dvcmRzKVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdQYXNzd29yZHMgZG8gbm90IG1hdGNoJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQUlBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGlCQUFpQixFQUFFLE9BQU87RUFDbENDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQztJQUNuQ0MsS0FBSyxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2hCRyxPQUFPLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ25CLENBQUM7QUFDSCxDQUFDLENBQUMsQ0FBQztBQUFDLFNBQUFKLFlBQUE7RUFBQTtJQUFBRztFQUFBLElBQUFLLE9BQUE7RUFBQVIsV0FBQSxHQUFBQSxDQUFBLEtBQUFHLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFWSixNQUFNTSxPQUFPLEdBQUdELE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3pDLE1BQU1HLE9BQU8sR0FBR0gsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQVVwQyxJQUFJSSxHQUFHO0FBQ1AsSUFBSUMsV0FBVztBQUVmQyxRQUFRLENBQUMsaURBQWlELEVBQUUsTUFBTTtFQUNoRUMsU0FBUyxDQUFDLFlBQVk7SUFDcEI7SUFDQUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsR0FBRyxNQUFNO0lBQzdCRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsVUFBVSxHQUFHLGFBQWE7SUFFdENQLEdBQUcsR0FBR0gsT0FBTyxDQUFDLENBQUM7SUFDZkcsR0FBRyxDQUFDUSxHQUFHLENBQUNWLFVBQVUsQ0FBQ1csVUFBVSxDQUFDO01BQUVDLFFBQVEsRUFBRTtJQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ25E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