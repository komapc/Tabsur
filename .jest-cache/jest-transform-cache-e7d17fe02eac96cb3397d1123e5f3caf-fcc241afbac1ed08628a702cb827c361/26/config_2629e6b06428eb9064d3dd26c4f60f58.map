{"version":3,"names":["config","env","exports","process","NODE_ENV","host","document","location","protocol","console","log","JSON","stringify","rawExplicitApiUrl","REACT_APP_SERVER_HOST","REACT_APP_API_URL","explicitApiUrl","replace","undefined","devHost","REACT_APP_SERVER_HOST_DEV","SERVER_HOST","trim","isLocalFrontend","test","localPref","GOOGLE_MAPS_API_KEY","REACT_APP_GOOGLE_MAPS_API_KEY","GOOGLE_OAUTH_CLIENT_ID","REACT_APP_GOOGLE_CLIENT_ID","_default","default"],"sources":["config.js"],"sourcesContent":["const config = {};\n\nexport const env = process.env.NODE_ENV || 'development';\n\n// Build the current origin for reference\nconst host = document.location.protocol + \"//\" + document.location.host;\nconsole.log(`host: ${host}`);\n\nconsole.log(\"Config.js, env = \" + JSON.stringify(env));\n\n// Prefer explicitly provided API host variables\nconst rawExplicitApiUrl = process.env.REACT_APP_SERVER_HOST || process.env.REACT_APP_API_URL || '';\n// Normalize: strip any trailing '/api' because our code appends '/api/...'\nconst explicitApiUrl = rawExplicitApiUrl.replace(/\\/+api\\/?$/i, '');\n\nswitch (env) {\n  case \"development\":\n  case undefined:\n  case null: {\n    const devHost = process.env.REACT_APP_SERVER_HOST_DEV || process.env.REACT_APP_SERVER_HOST || explicitApiUrl;\n    config.SERVER_HOST = (devHost && devHost.trim()) ? devHost : 'http://localhost:5000';\n    break;\n  }\n  case 'production':\n  default: {\n    // When serving locally (localhost:3000), prefer local API unless explicitly overridden\n    const isLocalFrontend = /localhost|127\\.0\\.0\\.1/i.test(host);\n    if (isLocalFrontend) {\n      const localPref = explicitApiUrl || 'http://localhost:5000';\n      config.SERVER_HOST = localPref;\n    } else {\n      // In production we MUST talk to the API subdomain, not the frontend origin\n      // Priority: REACT_APP_SERVER_HOST > REACT_APP_API_URL > default api domain\n      config.SERVER_HOST = explicitApiUrl || 'https://api.bemyguest.dedyn.io';\n    }\n  }\n}\n\nconsole.log(`Using API base: ${config.SERVER_HOST}`);\n\n// Google Maps configuration\nconfig.GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\nconfig.GOOGLE_OAUTH_CLIENT_ID = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nexport default config;\n"],"mappings":";;;;;;AAAA,MAAMA,MAAM,GAAG,CAAC,CAAC;AAEV,MAAMC,GAAG,GAAAC,OAAA,CAAAD,GAAA,GAAGE,OAAO,CAACF,GAAG,CAACG,QAAQ,IAAI,aAAa;;AAExD;AACA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,QAAQ,CAACC,QAAQ,GAAG,IAAI,GAAGF,QAAQ,CAACC,QAAQ,CAACF,IAAI;AACvEI,OAAO,CAACC,GAAG,CAAC,SAASL,IAAI,EAAE,CAAC;AAE5BI,OAAO,CAACC,GAAG,CAAC,mBAAmB,GAAGC,IAAI,CAACC,SAAS,CAACX,GAAG,CAAC,CAAC;;AAEtD;AACA,MAAMY,iBAAiB,GAAGV,OAAO,CAACF,GAAG,CAACa,qBAAqB,IAAIX,OAAO,CAACF,GAAG,CAACc,iBAAiB,IAAI,EAAE;AAClG;AACA,MAAMC,cAAc,GAAGH,iBAAiB,CAACI,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC;AAEnE,QAAQhB,GAAG;EACT,KAAK,aAAa;EAClB,KAAKiB,SAAS;EACd,KAAK,IAAI;IAAE;MACT,MAAMC,OAAO,GAAGhB,OAAO,CAACF,GAAG,CAACmB,yBAAyB,IAAIjB,OAAO,CAACF,GAAG,CAACa,qBAAqB,IAAIE,cAAc;MAC5GhB,MAAM,CAACqB,WAAW,GAAIF,OAAO,IAAIA,OAAO,CAACG,IAAI,CAAC,CAAC,GAAIH,OAAO,GAAG,uBAAuB;MACpF;IACF;EACA,KAAK,YAAY;EACjB;IAAS;MACP;MACA,MAAMI,eAAe,GAAG,yBAAyB,CAACC,IAAI,CAACnB,IAAI,CAAC;MAC5D,IAAIkB,eAAe,EAAE;QACnB,MAAME,SAAS,GAAGT,cAAc,IAAI,uBAAuB;QAC3DhB,MAAM,CAACqB,WAAW,GAAGI,SAAS;MAChC,CAAC,MAAM;QACL;QACA;QACAzB,MAAM,CAACqB,WAAW,GAAGL,cAAc,IAAI,gCAAgC;MACzE;IACF;AACF;AAEAP,OAAO,CAACC,GAAG,CAAC,mBAAmBV,MAAM,CAACqB,WAAW,EAAE,CAAC;;AAEpD;AACArB,MAAM,CAAC0B,mBAAmB,GAAGvB,OAAO,CAACF,GAAG,CAAC0B,6BAA6B;AACtE3B,MAAM,CAAC4B,sBAAsB,GAAGzB,OAAO,CAACF,GAAG,CAAC4B,0BAA0B;AAAC,IAAAC,QAAA,GAAA5B,OAAA,CAAA6B,OAAA,GAExD/B,MAAM","ignoreList":[]}