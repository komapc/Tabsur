5aee90bcba0972eb9b880fe31d0a33f6
"use strict";

// Mock the database
_getJestObj().mock('../routes/db.js', () => ({
  connect: jest.fn().mockResolvedValue({
    query: jest.fn(),
    release: jest.fn()
  })
}));

// Mock authentication middleware
_getJestObj().mock('../routes/authenticateJWT.js', () => ({
  authenticateJWT: jest.fn((req, res, next) => {
    req.user = {
      id: 1,
      name: 'Test User',
      email: 'test@example.com'
    };
    next();
  }),
  tryAuthenticateJWT: jest.fn((req, res, next) => {
    req.user = {
      id: 1,
      name: 'Test User',
      email: 'test@example.com'
    };
    next();
  })
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const request = require('supertest');
const express = require('express');
const bodyParser = require('body-parser');

// Import routes
const meals = require('../routes/api/meals');
const app = express();
app.use(bodyParser.urlencoded({
  extended: false
}));
app.use(bodyParser.json());
app.use('/api/meals', meals);
describe('Meals API', () => {
  let testMeal;
  beforeEach(() => {
    testMeal = {
      name: 'Test Meal',
      description: 'A delicious test meal for testing',
      date: Date.now() + 86400000,
      // Tomorrow
      address: '456 Test Avenue, Tel Aviv, Israel',
      location: {
        lng: 34.808,
        lat: 32.09
      },
      host_id: 1,
      guest_count: 3,
      image_id: -1,
      type: 1,
      visibility: 1
    };
  });
  describe('POST /api/meals', () => {
    it('should create a new meal with valid data', async () => {
      const pool = require('../routes/db.js');
      const mockClient = await pool.connect();

      // Mock successful meal creation
      mockClient.query.mockResolvedValueOnce({
        rows: [{
          id: 1,
          ...testMeal
        }]
      });
      const response = await request(app).post('/api/meals').send(testMeal);
      expect(response.status).toBe(200);
      expect(response.body.id).toBe(1);
      expect(mockClient.query).toHaveBeenCalledWith(expect.stringContaining('INSERT INTO meals'), expect.arrayContaining([testMeal.name, testMeal.type, expect.any(String),
      // location
      testMeal.address, testMeal.guest_count, expect.any(String),
      // host_id (converted to string)
      expect.any(String),
      // date (converted to string)
      testMeal.visibility, testMeal.description]));
    });
    it('should reject meal creation with missing required fields', async () => {
      delete testMeal.name;
      const response = await request(app).post('/api/meals').send(testMeal);
      expect(response.status).toBe(400);
      expect(response.body.name).toBeDefined();
    });
    it('should reject meal creation with invalid guest count', async () => {
      testMeal.guest_count = -1;
      const response = await request(app).post('/api/meals').send(testMeal);
      expect(response.status).toBe(400);
      expect(response.body.guest_count).toBeDefined();
    });
  });
  describe('GET /api/meals/:id', () => {
    it('should return meals for a specific user', async () => {
      const pool = require('../routes/db.js');
      const mockClient = await pool.connect();

      // Mock successful query
      mockClient.query.mockResolvedValueOnce({
        rows: [{
          id: 1,
          name: 'Meal 1',
          host_name: 'User 1'
        }, {
          id: 2,
          name: 'Meal 2',
          host_name: 'User 1'
        }]
      });
      const response = await request(app).get('/api/meals/1');
      expect(response.status).toBe(200);
      expect(Array.isArray(response.body)).toBe(true);
      expect(response.body).toHaveLength(2);
    });
  });
  describe('GET /api/meals/info/:id/:userId', () => {
    it('should return info about a specific meal', async () => {
      const pool = require('../routes/db.js');
      const mockClient = await pool.connect();

      // Mock successful query
      mockClient.query.mockResolvedValueOnce({
        rows: [{
          id: 1,
          name: 'Test Meal',
          host_name: 'User 1'
        }]
      });
      const response = await request(app).get('/api/meals/info/1/1');
      expect(response.status).toBe(200);
      expect(response.body[0].id).toBe(1);
      expect(response.body[0].name).toBe('Test Meal');
    });
  });
  describe('PUT /api/meals', () => {
    it('should update a meal', async () => {
      const pool = require('../routes/db.js');
      const mockClient = await pool.connect();

      // Mock successful update
      mockClient.query.mockResolvedValueOnce({
        rows: [{
          id: 1,
          name: 'Updated Meal',
          guest_count: 5
        }]
      });
      const response = await request(app).put('/api/meals').send({
        name: 'Updated Meal',
        guest_count: 5,
        id: 1
      });
      expect(response.status).toBe(200);
      expect(response.body.name).toBe('Updated Meal');
    });
  });
  describe('DELETE /api/meals/:meal_id', () => {
    it('should delete a meal', async () => {
      const pool = require('../routes/db.js');
      const mockClient = await pool.connect();

      // Mock successful deletion
      mockClient.query.mockResolvedValueOnce({
        rows: []
      });
      const response = await request(app).delete('/api/meals/1').send({
        meal_id: 1
      });
      expect(response.status).toBe(201);
    });
    it('should reject deletion with invalid meal ID', async () => {
      const response = await request(app).delete('/api/meals/invalid').send({
        meal_id: 'invalid'
      });
      expect(response.status).toBe(400);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjb25uZWN0IiwiamVzdCIsImZuIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJxdWVyeSIsInJlbGVhc2UiLCJhdXRoZW50aWNhdGVKV1QiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXNlciIsImlkIiwibmFtZSIsImVtYWlsIiwidHJ5QXV0aGVudGljYXRlSldUIiwicmVxdWlyZSIsInJlcXVlc3QiLCJleHByZXNzIiwiYm9keVBhcnNlciIsIm1lYWxzIiwiYXBwIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsImRlc2NyaWJlIiwidGVzdE1lYWwiLCJiZWZvcmVFYWNoIiwiZGVzY3JpcHRpb24iLCJkYXRlIiwiRGF0ZSIsIm5vdyIsImFkZHJlc3MiLCJsb2NhdGlvbiIsImxuZyIsImxhdCIsImhvc3RfaWQiLCJndWVzdF9jb3VudCIsImltYWdlX2lkIiwidHlwZSIsInZpc2liaWxpdHkiLCJpdCIsInBvb2wiLCJtb2NrQ2xpZW50IiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwicm93cyIsInJlc3BvbnNlIiwicG9zdCIsInNlbmQiLCJleHBlY3QiLCJzdGF0dXMiLCJ0b0JlIiwiYm9keSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwic3RyaW5nQ29udGFpbmluZyIsImFycmF5Q29udGFpbmluZyIsImFueSIsIlN0cmluZyIsInRvQmVEZWZpbmVkIiwiaG9zdF9uYW1lIiwiZ2V0IiwiQXJyYXkiLCJpc0FycmF5IiwidG9IYXZlTGVuZ3RoIiwicHV0IiwiZGVsZXRlIiwibWVhbF9pZCJdLCJzb3VyY2VzIjpbIm1lYWxzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xuXG4vLyBJbXBvcnQgcm91dGVzXG5jb25zdCBtZWFscyA9IHJlcXVpcmUoJy4uL3JvdXRlcy9hcGkvbWVhbHMnKTtcblxuLy8gTW9jayB0aGUgZGF0YWJhc2Vcbmplc3QubW9jaygnLi4vcm91dGVzL2RiLmpzJywgKCkgPT4gKHtcbiAgY29ubmVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICBxdWVyeTogamVzdC5mbigpLFxuICAgIHJlbGVhc2U6IGplc3QuZm4oKVxuICB9KVxufSkpO1xuXG4vLyBNb2NrIGF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmVcbmplc3QubW9jaygnLi4vcm91dGVzL2F1dGhlbnRpY2F0ZUpXVC5qcycsICgpID0+ICh7XG4gIGF1dGhlbnRpY2F0ZUpXVDogamVzdC5mbigocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXEudXNlciA9IHsgaWQ6IDEsIG5hbWU6ICdUZXN0IFVzZXInLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH07XG4gICAgbmV4dCgpO1xuICB9KSxcbiAgdHJ5QXV0aGVudGljYXRlSldUOiBqZXN0LmZuKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcS51c2VyID0geyBpZDogMSwgbmFtZTogJ1Rlc3QgVXNlcicsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfTtcbiAgICBuZXh0KCk7XG4gIH0pXG59KSk7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZSgnL2FwaS9tZWFscycsIG1lYWxzKTtcblxuZGVzY3JpYmUoJ01lYWxzIEFQSScsICgpID0+IHtcbiAgbGV0IHRlc3RNZWFsO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHRlc3RNZWFsID0ge1xuICAgICAgbmFtZTogJ1Rlc3QgTWVhbCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ0EgZGVsaWNpb3VzIHRlc3QgbWVhbCBmb3IgdGVzdGluZycsXG4gICAgICBkYXRlOiBEYXRlLm5vdygpICsgODY0MDAwMDAsIC8vIFRvbW9ycm93XG4gICAgICBhZGRyZXNzOiAnNDU2IFRlc3QgQXZlbnVlLCBUZWwgQXZpdiwgSXNyYWVsJyxcbiAgICAgIGxvY2F0aW9uOiB7IGxuZzogMzQuODA4LCBsYXQ6IDMyLjA5IH0sXG4gICAgICBob3N0X2lkOiAxLFxuICAgICAgZ3Vlc3RfY291bnQ6IDMsXG4gICAgICBpbWFnZV9pZDogLTEsXG4gICAgICB0eXBlOiAxLFxuICAgICAgdmlzaWJpbGl0eTogMVxuICAgIH07XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvbWVhbHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBuZXcgbWVhbCB3aXRoIHZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwb29sID0gcmVxdWlyZSgnLi4vcm91dGVzL2RiLmpzJyk7XG4gICAgICBjb25zdCBtb2NrQ2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCk7XG5cbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBtZWFsIGNyZWF0aW9uXG4gICAgICBtb2NrQ2xpZW50LnF1ZXJ5Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIHJvd3M6IFt7IGlkOiAxLCAuLi50ZXN0TWVhbCB9XVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL21lYWxzJylcbiAgICAgICAgLnNlbmQodGVzdE1lYWwpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5pZCkudG9CZSgxKTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGllbnQucXVlcnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnSU5TRVJUIElOVE8gbWVhbHMnKSxcbiAgICAgICAgZXhwZWN0LmFycmF5Q29udGFpbmluZyhbXG4gICAgICAgICAgdGVzdE1lYWwubmFtZSxcbiAgICAgICAgICB0ZXN0TWVhbC50eXBlLFxuICAgICAgICAgIGV4cGVjdC5hbnkoU3RyaW5nKSwgLy8gbG9jYXRpb25cbiAgICAgICAgICB0ZXN0TWVhbC5hZGRyZXNzLFxuICAgICAgICAgIHRlc3RNZWFsLmd1ZXN0X2NvdW50LFxuICAgICAgICAgIGV4cGVjdC5hbnkoU3RyaW5nKSwgLy8gaG9zdF9pZCAoY29udmVydGVkIHRvIHN0cmluZylcbiAgICAgICAgICBleHBlY3QuYW55KFN0cmluZyksIC8vIGRhdGUgKGNvbnZlcnRlZCB0byBzdHJpbmcpXG4gICAgICAgICAgdGVzdE1lYWwudmlzaWJpbGl0eSxcbiAgICAgICAgICB0ZXN0TWVhbC5kZXNjcmlwdGlvblxuICAgICAgICBdKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG1lYWwgY3JlYXRpb24gd2l0aCBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGRlbGV0ZSB0ZXN0TWVhbC5uYW1lO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9tZWFscycpXG4gICAgICAgIC5zZW5kKHRlc3RNZWFsKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkubmFtZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG1lYWwgY3JlYXRpb24gd2l0aCBpbnZhbGlkIGd1ZXN0IGNvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgdGVzdE1lYWwuZ3Vlc3RfY291bnQgPSAtMTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvbWVhbHMnKVxuICAgICAgICAuc2VuZCh0ZXN0TWVhbCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lmd1ZXN0X2NvdW50KS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvbWVhbHMvOmlkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIG1lYWxzIGZvciBhIHNwZWNpZmljIHVzZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwb29sID0gcmVxdWlyZSgnLi4vcm91dGVzL2RiLmpzJyk7XG4gICAgICBjb25zdCBtb2NrQ2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCk7XG5cbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBxdWVyeVxuICAgICAgbW9ja0NsaWVudC5xdWVyeS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICByb3dzOiBbXG4gICAgICAgICAgeyBpZDogMSwgbmFtZTogJ01lYWwgMScsIGhvc3RfbmFtZTogJ1VzZXIgMScgfSxcbiAgICAgICAgICB7IGlkOiAyLCBuYW1lOiAnTWVhbCAyJywgaG9zdF9uYW1lOiAnVXNlciAxJyB9XG4gICAgICAgIF1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL21lYWxzLzEnKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlTGVuZ3RoKDIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvbWVhbHMvaW5mby86aWQvOnVzZXJJZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBpbmZvIGFib3V0IGEgc3BlY2lmaWMgbWVhbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBvb2wgPSByZXF1aXJlKCcuLi9yb3V0ZXMvZGIuanMnKTtcbiAgICAgIGNvbnN0IG1vY2tDbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKTtcblxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIHF1ZXJ5XG4gICAgICBtb2NrQ2xpZW50LnF1ZXJ5Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIHJvd3M6IFt7IGlkOiAxLCBuYW1lOiAnVGVzdCBNZWFsJywgaG9zdF9uYW1lOiAnVXNlciAxJyB9XVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvbWVhbHMvaW5mby8xLzEnKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHlbMF0uaWQpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keVswXS5uYW1lKS50b0JlKCdUZXN0IE1lYWwnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BVVCAvYXBpL21lYWxzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXBkYXRlIGEgbWVhbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBvb2wgPSByZXF1aXJlKCcuLi9yb3V0ZXMvZGIuanMnKTtcbiAgICAgIGNvbnN0IG1vY2tDbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKTtcblxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIHVwZGF0ZVxuICAgICAgbW9ja0NsaWVudC5xdWVyeS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICByb3dzOiBbeyBpZDogMSwgbmFtZTogJ1VwZGF0ZWQgTWVhbCcsIGd1ZXN0X2NvdW50OiA1IH1dXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnB1dCgnL2FwaS9tZWFscycpXG4gICAgICAgIC5zZW5kKHsgbmFtZTogJ1VwZGF0ZWQgTWVhbCcsIGd1ZXN0X2NvdW50OiA1LCBpZDogMSB9KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkubmFtZSkudG9CZSgnVXBkYXRlZCBNZWFsJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdERUxFVEUgL2FwaS9tZWFscy86bWVhbF9pZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSBhIG1lYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwb29sID0gcmVxdWlyZSgnLi4vcm91dGVzL2RiLmpzJyk7XG4gICAgICBjb25zdCBtb2NrQ2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCk7XG5cbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBkZWxldGlvblxuICAgICAgbW9ja0NsaWVudC5xdWVyeS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICByb3dzOiBbXVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5kZWxldGUoJy9hcGkvbWVhbHMvMScpXG4gICAgICAgIC5zZW5kKHsgbWVhbF9pZDogMSB9KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZGVsZXRpb24gd2l0aCBpbnZhbGlkIG1lYWwgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZGVsZXRlKCcvYXBpL21lYWxzL2ludmFsaWQnKVxuICAgICAgICAuc2VuZCh7IG1lYWxfaWQ6ICdpbnZhbGlkJyB9KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFPQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxPQUFPO0VBQ2xDQyxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUM7SUFDbkNDLEtBQUssRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNoQkcsT0FBTyxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNuQixDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQUosV0FBQSxHQUFLQyxJQUFJLENBQUMsOEJBQThCLEVBQUUsT0FBTztFQUMvQ08sZUFBZSxFQUFFTCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDSyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQzNDRixHQUFHLENBQUNHLElBQUksR0FBRztNQUFFQyxFQUFFLEVBQUUsQ0FBQztNQUFFQyxJQUFJLEVBQUUsV0FBVztNQUFFQyxLQUFLLEVBQUU7SUFBbUIsQ0FBQztJQUNsRUosSUFBSSxDQUFDLENBQUM7RUFDUixDQUFDLENBQUM7RUFDRkssa0JBQWtCLEVBQUViLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUNLLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDOUNGLEdBQUcsQ0FBQ0csSUFBSSxHQUFHO01BQUVDLEVBQUUsRUFBRSxDQUFDO01BQUVDLElBQUksRUFBRSxXQUFXO01BQUVDLEtBQUssRUFBRTtJQUFtQixDQUFDO0lBQ2xFSixJQUFJLENBQUMsQ0FBQztFQUNSLENBQUM7QUFDSCxDQUFDLENBQUMsQ0FBQztBQUFDLFNBQUFYLFlBQUE7RUFBQTtJQUFBRztFQUFBLElBQUFjLE9BQUE7RUFBQWpCLFdBQUEsR0FBQUEsQ0FBQSxLQUFBRyxJ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