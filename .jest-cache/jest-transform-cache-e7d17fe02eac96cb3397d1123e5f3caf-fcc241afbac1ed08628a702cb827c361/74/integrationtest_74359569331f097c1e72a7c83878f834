e67d91e61072f8207e3da3aba1ae0566
"use strict";

// Mock the database module
_getJestObj().mock('../routes/db.js', () => ({
  connect: jest.fn().mockResolvedValue({
    query: jest.fn(),
    release: jest.fn()
  })
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const express = require('express');
const bodyParser = require('body-parser');
const request = require('supertest');
let app;
let usersRouter;
describe('Integration Tests - User Registration and Login', () => {
  beforeAll(async () => {
    // Set test environment
    process.env.NODE_ENV = 'test';
    process.env.JWT_SECRET = 'test-secret';
    app = express();
    app.use(bodyParser.urlencoded({
      extended: false
    }));
    app.use(bodyParser.json());
  });
  beforeEach(async () => {
    // Reset mocks before each test
    jest.clearAllMocks();

    // Create a fresh router for each test
    usersRouter = express.Router();

    // Mock registration endpoint
    usersRouter.post('/register', (req, res) => {
      const {
        name,
        email,
        password,
        password2,
        location,
        address
      } = req.body;

      // Basic validation
      if (!name || !email || !password || !password2 || !location || !address) {
        return res.status(400).json({
          error: 'All fields are required'
        });
      }
      if (password !== password2) {
        return res.status(400).json({
          error: 'Passwords do not match'
        });
      }

      // Mock successful registration
      res.status(201).json({
        id: 1,
        name,
        email,
        location,
        address,
        message: 'User registered successfully'
      });
    });

    // Mock login endpoint
    usersRouter.post('/login', (req, res) => {
      const {
        email,
        password
      } = req.body;
      if (!email || !password) {
        return res.status(400).json({
          error: 'Email and password are required'
        });
      }

      // Mock successful login
      res.status(200).json({
        token: 'mock-jwt-token-' + Date.now(),
        user: {
          id: 1,
          name: 'Integration Test User',
          email: email
        }
      });
    });

    // Clear any existing routes and add the fresh router
    app._router.stack = app._router.stack.filter(layer => !layer.route || !layer.route.path.startsWith('/api/users'));
    app.use('/api/users', usersRouter);
  });
  describe('Complete User Flow', () => {
    const testUser = {
      name: 'Integration Test User',
      email: 'integration-test@example.com',
      password: 'testpassword123',
      password2: 'testpassword123',
      location: '40.7128,-74.0060',
      address: '123 Integration Test Street, New York, NY'
    };
    it('should complete full user registration and login flow', async () => {
      // Step 1: Register a new user
      console.log('ðŸ§ª Testing user registration...');
      const registerResponse = await request(app).post('/api/users/register').send(testUser).expect(201);
      console.log('âœ… User registration successful');

      // Step 2: Attempt login with the registered user
      console.log('ðŸ§ª Testing user login...');
      const loginResponse = await request(app).post('/api/users/login').send({
        email: testUser.email,
        password: testUser.password
      }).expect(200);

      // Check if login was successful
      expect(loginResponse.body.token).toBeDefined();
      expect(typeof loginResponse.body.token).toBe('string');
      expect(loginResponse.body.user).toBeDefined();
      expect(loginResponse.body.user.email).toBe(testUser.email);
      console.log('âœ… User login successful');
      console.log('ðŸŽŸï¸  JWT Token received:', loginResponse.body.token.substring(0, 20) + '...');

      // Verify the flow completed
      expect(registerResponse.status).toBe(201);
      expect(registerResponse.body.id).toBe(1);
      expect(registerResponse.body.name).toBe(testUser.name);
    });
    it('should reject duplicate email registration', async () => {
      // Override the register endpoint for this specific test
      usersRouter.post('/register', (req, res) => {
        res.status(400).json({
          error: 'Email already exists'
        });
      });
      const response = await request(app).post('/api/users/register').send(testUser).expect(400);
      expect(response.body.error).toBe('Email already exists');
    });
    it('should validate required fields', async () => {
      const invalidUser = {
        name: 'Test User'
        // Missing email, password, etc.
      };
      const response = await request(app).post('/api/users/register').send(invalidUser).expect(400);
      expect(response.body.error).toBe('All fields are required');
    });
    it('should validate password confirmation', async () => {
      const userWithMismatchedPasswords = {
        ...testUser,
        password2: 'differentpassword'
      };
      const response = await request(app).post('/api/users/register').send(userWithMismatchedPasswords).expect(400);
      expect(response.body.error).toBe('Passwords do not match');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjb25uZWN0IiwiamVzdCIsImZuIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJxdWVyeSIsInJlbGVhc2UiLCJyZXF1aXJlIiwiZXhwcmVzcyIsImJvZHlQYXJzZXIiLCJyZXF1ZXN0IiwiYXBwIiwidXNlcnNSb3V0ZXIiLCJkZXNjcmliZSIsImJlZm9yZUFsbCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIkpXVF9TRUNSRVQiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXNzd29yZDIiLCJsb2NhdGlvbiIsImFkZHJlc3MiLCJib2R5Iiwic3RhdHVzIiwiZXJyb3IiLCJpZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsIkRhdGUiLCJub3ciLCJ1c2VyIiwiX3JvdXRlciIsInN0YWNrIiwiZmlsdGVyIiwibGF5ZXIiLCJyb3V0ZSIsInBhdGgiLCJzdGFydHNXaXRoIiwidGVzdFVzZXIiLCJpdCIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3RlclJlc3BvbnNlIiwic2VuZCIsImV4cGVjdCIsImxvZ2luUmVzcG9uc2UiLCJ0b0JlRGVmaW5lZCIsInRvQmUiLCJzdWJzdHJpbmciLCJyZXNwb25zZSIsImludmFsaWRVc2VyIiwidXNlcldpdGhNaXNtYXRjaGVkUGFzc3dvcmRzIl0sInNvdXJjZXMiOlsiaW50ZWdyYXRpb24udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XG5jb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5cbi8vIE1vY2sgdGhlIGRhdGFiYXNlIG1vZHVsZVxuamVzdC5tb2NrKCcuLi9yb3V0ZXMvZGIuanMnLCAoKSA9PiAoe1xuICBjb25uZWN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgIHF1ZXJ5OiBqZXN0LmZuKCksXG4gICAgcmVsZWFzZTogamVzdC5mbigpXG4gIH0pXG59KSk7XG5cbmxldCBhcHA7XG5sZXQgdXNlcnNSb3V0ZXI7XG5cbmRlc2NyaWJlKCdJbnRlZ3JhdGlvbiBUZXN0cyAtIFVzZXIgUmVnaXN0cmF0aW9uIGFuZCBMb2dpbicsICgpID0+IHtcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICAvLyBTZXQgdGVzdCBlbnZpcm9ubWVudFxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xuICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgPSAndGVzdC1zZWNyZXQnO1xuXG4gICAgYXBwID0gZXhwcmVzcygpO1xuICAgIGFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgLy8gUmVzZXQgbW9ja3MgYmVmb3JlIGVhY2ggdGVzdFxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIGZyZXNoIHJvdXRlciBmb3IgZWFjaCB0ZXN0XG4gICAgdXNlcnNSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuICAgIFxuICAgIC8vIE1vY2sgcmVnaXN0cmF0aW9uIGVuZHBvaW50XG4gICAgdXNlcnNSb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcGFzc3dvcmQyLCBsb2NhdGlvbiwgYWRkcmVzcyB9ID0gcmVxLmJvZHk7XG4gICAgICBcbiAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cbiAgICAgIGlmICghbmFtZSB8fCAhZW1haWwgfHwgIXBhc3N3b3JkIHx8ICFwYXNzd29yZDIgfHwgIWxvY2F0aW9uIHx8ICFhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAocGFzc3dvcmQgIT09IHBhc3N3b3JkMikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgcmVnaXN0cmF0aW9uXG4gICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICBuYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIGFkZHJlc3MsXG4gICAgICAgIG1lc3NhZ2U6ICdVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTW9jayBsb2dpbiBlbmRwb2ludFxuICAgIHVzZXJzUm91dGVyLnBvc3QoJy9sb2dpbicsIChyZXEsIHJlcykgPT4ge1xuICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgICAgXG4gICAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgbG9naW5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgdG9rZW46ICdtb2NrLWp3dC10b2tlbi0nICsgRGF0ZS5ub3coKSxcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgIG5hbWU6ICdJbnRlZ3JhdGlvbiBUZXN0IFVzZXInLFxuICAgICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3Rpbmcgcm91dGVzIGFuZCBhZGQgdGhlIGZyZXNoIHJvdXRlclxuICAgIGFwcC5fcm91dGVyLnN0YWNrID0gYXBwLl9yb3V0ZXIuc3RhY2suZmlsdGVyKGxheWVyID0+ICFsYXllci5yb3V0ZSB8fCAhbGF5ZXIucm91dGUucGF0aC5zdGFydHNXaXRoKCcvYXBpL3VzZXJzJykpO1xuICAgIGFwcC51c2UoJy9hcGkvdXNlcnMnLCB1c2Vyc1JvdXRlcik7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21wbGV0ZSBVc2VyIEZsb3cnLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdFVzZXIgPSB7XG4gICAgICBuYW1lOiAnSW50ZWdyYXRpb24gVGVzdCBVc2VyJyxcbiAgICAgIGVtYWlsOiAnaW50ZWdyYXRpb24tdGVzdEBleGFtcGxlLmNvbScsXG4gICAgICBwYXNzd29yZDogJ3Rlc3RwYXNzd29yZDEyMycsXG4gICAgICBwYXNzd29yZDI6ICd0ZXN0cGFzc3dvcmQxMjMnLFxuICAgICAgbG9jYXRpb246ICc0MC43MTI4LC03NC4wMDYwJyxcbiAgICAgIGFkZHJlc3M6ICcxMjMgSW50ZWdyYXRpb24gVGVzdCBTdHJlZXQsIE5ldyBZb3JrLCBOWSdcbiAgICB9O1xuXG4gICAgaXQoJ3Nob3VsZCBjb21wbGV0ZSBmdWxsIHVzZXIgcmVnaXN0cmF0aW9uIGFuZCBsb2dpbiBmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU3RlcCAxOiBSZWdpc3RlciBhIG5ldyB1c2VyXG4gICAgICBjb25zb2xlLmxvZygn8J+nqiBUZXN0aW5nIHVzZXIgcmVnaXN0cmF0aW9uLi4uJyk7XG5cbiAgICAgIGNvbnN0IHJlZ2lzdGVyUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh0ZXN0VXNlcilcbiAgICAgICAgLmV4cGVjdCgyMDEpO1xuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFVzZXIgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwnKTtcblxuICAgICAgLy8gU3RlcCAyOiBBdHRlbXB0IGxvZ2luIHdpdGggdGhlIHJlZ2lzdGVyZWQgdXNlclxuICAgICAgY29uc29sZS5sb2coJ/Cfp6ogVGVzdGluZyB1c2VyIGxvZ2luLi4uJyk7XG5cbiAgICAgIGNvbnN0IGxvZ2luUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgZW1haWw6IHRlc3RVc2VyLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiB0ZXN0VXNlci5wYXNzd29yZFxuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGxvZ2luIHdhcyBzdWNjZXNzZnVsXG4gICAgICBleHBlY3QobG9naW5SZXNwb25zZS5ib2R5LnRva2VuKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBsb2dpblJlc3BvbnNlLmJvZHkudG9rZW4pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgZXhwZWN0KGxvZ2luUmVzcG9uc2UuYm9keS51c2VyKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGxvZ2luUmVzcG9uc2UuYm9keS51c2VyLmVtYWlsKS50b0JlKHRlc3RVc2VyLmVtYWlsKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSBVc2VyIGxvZ2luIHN1Y2Nlc3NmdWwnKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46f77iPICBKV1QgVG9rZW4gcmVjZWl2ZWQ6JywgbG9naW5SZXNwb25zZS5ib2R5LnRva2VuLnN1YnN0cmluZygwLCAyMCkgKyAnLi4uJyk7XG5cbiAgICAgIC8vIFZlcmlmeSB0aGUgZmxvdyBjb21wbGV0ZWRcbiAgICAgIGV4cGVjdChyZWdpc3RlclJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDEpO1xuICAgICAgZXhwZWN0KHJlZ2lzdGVyUmVzcG9uc2UuYm9keS5pZCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZWdpc3RlclJlc3BvbnNlLmJvZHkubmFtZSkudG9CZSh0ZXN0VXNlci5uYW1lKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGR1cGxpY2F0ZSBlbWFpbCByZWdpc3RyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBPdmVycmlkZSB0aGUgcmVnaXN0ZXIgZW5kcG9pbnQgZm9yIHRoaXMgc3BlY2lmaWMgdGVzdFxuICAgICAgdXNlcnNSb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdFbWFpbCBhbHJlYWR5IGV4aXN0cycgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh0ZXN0VXNlcilcbiAgICAgICAgLmV4cGVjdCg0MDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnRW1haWwgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZFVzZXIgPSB7XG4gICAgICAgIG5hbWU6ICdUZXN0IFVzZXInLFxuICAgICAgICAvLyBNaXNzaW5nIGVtYWlsLCBwYXNzd29yZCwgZXRjLlxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZChpbnZhbGlkVXNlcilcbiAgICAgICAgLmV4cGVjdCg0MDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcGFzc3dvcmQgY29uZmlybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlcldpdGhNaXNtYXRjaGVkUGFzc3dvcmRzID0ge1xuICAgICAgICAuLi50ZXN0VXNlcixcbiAgICAgICAgcGFzc3dvcmQyOiAnZGlmZmVyZW50cGFzc3dvcmQnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9yZWdpc3RlcicpXG4gICAgICAgIC5zZW5kKHVzZXJXaXRoTWlzbWF0Y2hlZFBhc3N3b3JkcylcbiAgICAgICAgLmV4cGVjdCg0MDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFJQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxPQUFPO0VBQ2xDQyxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUM7SUFDbkNDLEtBQUssRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNoQkcsT0FBTyxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNuQixDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUM7QUFBQyxTQUFBSixZQUFBO0VBQUE7SUFBQUc7RUFBQSxJQUFBSyxPQUFBO0VBQUFSLFdBQUEsR0FBQUEsQ0FBQSxL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QUMzRDtNQUNBeEMsV0FBVyxDQUFDYyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO1FBQzFDQSxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2QsSUFBSSxDQUFDO1VBQUVlLEtBQUssRUFBRTtRQUF1QixDQUFDLENBQUM7TUFDekQsQ0FBQyxDQUFDO01BRUYsTUFBTXlCLFFBQVEsR0FBRyxNQUFNcEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FDaENlLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUMzQjhCLElBQUksQ0FBQ0wsUUFBUSxDQUFDLENBQ2RNLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDSyxRQUFRLENBQUMzQixJQUFJLENBQUNFLEtBQUssQ0FBQyxDQUFDdUIsSUFBSSxDQUFDLHNCQUFzQixDQUFDO0lBQzFELENBQUMsQ0FBQztJQUVGUixFQUFFLENBQUMsaUNBQWlDLEVBQUUsWUFBWTtNQUNoRCxNQUFNVyxXQUFXLEdBQUc7UUFDbEJsQyxJQUFJLEVBQUU7UUFDTjtNQUNGLENBQUM7TUFFRCxNQUFNaUMsUUFBUSxHQUFHLE1BQU1wRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUNoQ2UsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQzNCOEIsSUFBSSxDQUFDTyxXQUFXLENBQUMsQ0FDakJOLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDSyxRQUFRLENBQUMzQixJQUFJLENBQUNFLEtBQUssQ0FBQyxDQUFDdUIsSUFBSSxDQUFDLHlCQUF5QixDQUFDO0lBQzdELENBQUMsQ0FBQztJQUVGUixFQUFFLENBQUMsdUNBQXVDLEVBQUUsWUFBWTtNQUN0RCxNQUFNWSwyQkFBMkIsR0FBRztRQUNsQyxHQUFHYixRQUFRO1FBQ1huQixTQUFTLEVBQUU7TUFDYixDQUFDO01BRUQsTUFBTThCLFFBQVEsR0FBRyxNQUFNcEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FDaENlLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUMzQjhCLElBQUksQ0FBQ1EsMkJBQTJCLENBQUMsQ0FDakNQLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDSyxRQUFRLENBQUMzQixJQUFJLENBQUNFLEtBQUssQ0FBQyxDQUFDdUIsSUFBSSxDQUFDLHdCQUF3QixDQUFDO0lBQzVELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==